/*! For license information please see main.3346d627.chunk.js.LICENSE.txt */
(this.webpackJsonppicmodoro=this.webpackJsonppicmodoro||[]).push([[0],{282:function(A,e,t){"use strict";t.r(e);var n,r,a=t(0),o=t(40),c=t.n(o),i=t(323),s=t.p+"static/media/pomodoro.e1763d73.png",l=t(23),u=t(1),d=function(){return Object(u.jsxs)(i.a,{sx:{display:"flex",justifyContent:"center",padding:"1rem",fontSize:"2rem",fontWeight:"bolder",color:"#fff",textShadow:"2px 2px #000",fontFamily:"'Righteous', cursive",textDecoration:"none"},component:l.b,to:"/dashboard",children:["PICMODOR",Object(u.jsx)(i.a,{sx:{width:"40px"},component:"img",src:s,alt:""})]})},b=t(17),j=t(6),p=t(16),f=t(325),x=function(A){var e=A.currentGoal,t=e.goal_name,n=e.blockers,r=n.map((function(A){return A.reveal})).filter((function(A){return!0===A})).length;return console.log("Details Component"),Object(u.jsxs)(f.a,{sx:{width:"80%"},children:[Object(u.jsx)("h3",{style:{fontSize:t.length>10?"1rem":"1.5rem"},children:t}),Object(u.jsxs)("p",{style:{color:"#fff",fontSize:"0.7rem",fontWeight:"bolder",marginTop:"5px"},children:["Progress: ",r,"/",n.length]})]})},h=t(345),g=t(354),m=t(326),O=function(A){var e=A.currentGoal,t=e.is_done,n=e.image_url,r=e.blockers;Object(m.a)("(min-width:600px");console.log("Image Grid");var o=Object(a.useCallback)((function(){return Object(u.jsx)(u.Fragment,{children:r.map((function(A,e){return Object(u.jsx)(f.a,{sx:{border:t?"none":"solid 1px #1e3c72",backgroundColor:A.reveal?"transparent":"#F6F5F5",cursor:A.clickable?"pointer":"default"}},e)}))})}),[r,t]),c=function(A,e){for(var t,n,r=10;r>1;r--){if(4===A){t=2,n=2;break}if(A%r===0&&A>=3*r){t=A/r,n=r;break}t=A,n=1}var a=350/t;return 350/t%10!==0&&(a+=.04),{imgWidth:350,imgHeight:300,gridColumnSize:a,gridRowSize:300/n,gridColumn:t,gridRow:n}}(r.length),i=c.imgWidth,s=c.imgHeight,l=c.gridColumnSize,d=c.gridRowSize,b=c.gridColumn,j=c.gridRow;return Object(u.jsx)(f.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:Object(u.jsx)(f.a,{style:{display:"grid",gridTemplateColumns:"repeat( ".concat(b,", ").concat(l,"px"),gridTemplateRows:"repeat( ".concat(j,", ").concat(d,"px )"),width:i,height:s,background:"url(".concat(n,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",border:"solid 1px #1e3c72",boxShadow:"0 5px 10px rgba(0,0,0,0.25)",overflow:"hidden",boxSizing:"content-box"},children:Object(u.jsx)(o,{})})})},v=t(30),y=t(346),S=t(142),w=t.n(S),k=t(24),D=Object(k.c)({name:"timer",initialState:{minutes:0,seconds:0,isActive:!1,isSessionDone:!1},reducers:{updateMinutes:function(A,e){var t=e.payload;A.minutes=t},updateSeconds:function(A,e){var t=e.payload;A.seconds=t},toggleIsActive:function(A,e){var t=e.payload;A.isActive=t},toggleIsSessionDone:function(A,e){var t=e.payload;A.isSessionDone=t},resetTimerState:function(A,e){e.payload;A.minutes=0,A.seconds=0,A.isActive=!1,A.isSessionDone=!1}}}),C=D.actions,I=C.updateMinutes,T=C.updateSeconds,E=C.toggleIsActive,G=C.toggleIsSessionDone,R=C.resetTimerState,M=D.reducer,U=t(3),z=t(15),N=t.n(z),P=t(22),Y=Object(k.b)("goals/getGoalListAsync",function(){var A=Object(P.a)(N.a.mark((function A(e){var t,n;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("http://localhost:7000/user/".concat(e.id));case 3:if(!(t=A.sent).ok){A.next=9;break}return A.next=7,t.json();case 7:return n=A.sent,A.abrupt("return",{goalList:n});case 9:A.next=14;break;case 11:return A.prev=11,A.t0=A.catch(0),A.abrupt("return");case 14:case"end":return A.stop()}}),A,null,[[0,11]])})));return function(e){return A.apply(this,arguments)}}()),B=Object(k.b)("goals/addGoalAsync",function(){var A=Object(P.a)(N.a.mark((function A(e){var t,n;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("http://localhost:7000/goals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerId:e.ownerId,id:e.id,goalName:e.goalName,goalImage:e.goalImage})});case 3:if(!(t=A.sent).ok){A.next=9;break}return A.next=7,t.json();case 7:return n=A.sent,A.abrupt("return",{goal:n});case 9:A.next=14;break;case 11:return A.prev=11,A.t0=A.catch(0),A.abrupt("return");case 14:case"end":return A.stop()}}),A,null,[[0,11]])})));return function(e){return A.apply(this,arguments)}}()),F=Object(k.b)("goals/deleteGoalAsync",function(){var A=Object(P.a)(N.a.mark((function A(e){var t,n;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("http://localhost:7000/goals",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})});case 3:if(!(t=A.sent).ok){A.next=9;break}return A.next=7,t.json();case 7:return n=A.sent,A.abrupt("return",{goalToDelete:n});case 9:A.next=14;break;case 11:return A.prev=11,A.t0=A.catch(0),A.abrupt("return");case 14:case"end":return A.stop()}}),A,null,[[0,11]])})));return function(e){return A.apply(this,arguments)}}()),Q=Object(k.b)("goals/saveSettingsAsync",function(){var A=Object(P.a)(N.a.mark((function A(e){var t,n;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("http://localhost:7000/goals",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentGoal:e.currentGoal})});case 3:if(!(t=A.sent).ok){A.next=9;break}return A.next=7,t.json();case 7:return n=A.sent,A.abrupt("return",{goalToUpdate:n});case 9:A.next=14;break;case 11:return A.prev=11,A.t0=A.catch(0),A.abrupt("return");case 14:case"end":return A.stop()}}),A,null,[[0,11]])})));return function(e){return A.apply(this,arguments)}}()),J=Object(k.b)("goals/getCurrentGoalAsync",function(){var A=Object(P.a)(N.a.mark((function A(e){var t,n,r;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,console.log("fetching",e.id),A.next=4,fetch("http://localhost:7000/".concat(e.id));case 4:if(t=A.sent,console.log("response",t),!t.ok){A.next=13;break}return A.next=9,t.json();case 9:return n=A.sent,A.abrupt("return",{currentGoal:n});case 13:return r={},A.abrupt("return",{currentGoal:r});case 15:A.next=20;break;case 17:return A.prev=17,A.t0=A.catch(0),A.abrupt("return");case 20:case"end":return A.stop()}}),A,null,[[0,17]])})));return function(e){return A.apply(this,arguments)}}()),L=Object(k.c)({name:"goals",initialState:{goalList:[],currentGoal:{},currentGoalStatus:"pending",fetchStatus:"",addStatus:""},reducers:{addGoal:function(A,e){var t=e.payload,n={id:t.id,goalName:t.goalName,goalImage:t.goalImage,blockers:[{clickable:!1,reveal:!1}],presetMin:.1,isRandom:!1,isDone:!1};console.log(n.id),A.goalList.push(n)},deleteGoal:function(A,e){var t=e.payload;A.goalList=A.goalList.filter((function(A){return A.id!==t.id}))},updateBlockers:function(A,e){var t=e.payload;A.currentGoal.blockers=t.blockers},updatePresetMin:function(A,e){var t=e.payload;A.currentGoal.preset_min=t.presetMin},toggleIsRandom:function(A,e){var t=e.payload;A.currentGoal.is_random=t.isRandom},resetCurrentGoal:function(A,e){e.payload;A.currentGoal={}},resetCurrentGoalStatus:function(A,e){e.payload;A.currentGoalStatus="pending"}},extraReducers:(n={},Object(U.a)(n,Y.fulfilled,(function(A,e){var t=e.payload;A.goalList=t.goalList,A.fetchStatus="fulfilled",console.log("fulfilled")})),Object(U.a)(n,Y.pending,(function(A,e){e.payload;A.fetchStatus="pending",console.log("pending")})),Object(U.a)(n,B.fulfilled,(function(A,e){var t=e.payload;A.goalList.unshift(t.goal),A.addStatus="fulfilled"})),Object(U.a)(n,B.pending,(function(A,e){e.payload;A.addStatus="pending"})),Object(U.a)(n,F.fulfilled,(function(A,e){var t=e.payload;A.goalList=A.goalList.filter((function(A){return A.id!==t.goalToDelete.id}))})),Object(U.a)(n,F.pending,(function(A,e){e.payload;console.log("deleting...")})),Object(U.a)(n,Q.pending,(function(A,e){e.payload;console.log("saving...")})),Object(U.a)(n,Q.fulfilled,(function(A,e){var t=e.payload,n=A.goalList.findIndex((function(A){return A.id===t.goalToUpdate.id}));A.goalList[n]=t.goalToUpdate})),Object(U.a)(n,J.pending,(function(A,e){e.payload;A.currentGoalStatus="pending",console.log("getting current goal...")})),Object(U.a)(n,J.fulfilled,(function(A,e){var t=e.payload;Object.keys(t.currentGoal).length?(A.currentGoal=t.currentGoal,A.currentGoalStatus="fulfilled"):A.currentGoalStatus="rejected"})),Object(U.a)(n,J.rejected,(function(A,e){e.payload;console.log("calling rejected reducer"),A.currentGoal={},A.currentGoalStatus="rejected"})),n)}),q=L.actions,W=(q.addGoal,q.updateBlockers),H=q.toggleIsRandom,V=q.updatePresetMin,K=(q.deleteGoal,q.resetCurrentGoal),Z=q.resetCurrentGoalStatus,X=L.reducer,_=function(A){var e=A.isActive,t=A.isSessionDone,n=A.setIsSessionDone,r=A.isDone,a=A.setMinutes,o=A.setSeconds,c=A.setIsActive,i=A.presetMin;return e?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(y.a,{onClick:function(){a(i),o(0),c(!1)},variant:"contained",color:"error",children:"Discard session"})}):t&&!r?Object(u.jsx)(y.a,{disabled:!!r,style:{display:"block",margin:"0 auto"},onClick:function(){a(i),o(0),n(!1)},variant:"contained",color:"success",children:"New Session"}):r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{style:{color:"green"},children:"All Done. Congratulations!"}),Object(u.jsx)("p",{style:{fontSize:"0.8rem"},children:"(You can always add more sessions to this goal.)"})]}):r||t?void 0:Object(u.jsx)(y.a,{style:{display:r||t?"none":"inline-block"},onClick:function(){return c(!0)},variant:"contained",color:"primary",children:"Start timer"})},$=function(A){var e=A.currentGoal,t=A.goalIdParam;console.log("DisplayTimer.js");var n=e.blockers,r=e.is_random,o=e.preset_min,c=Object(b.c)((function(A){return A.timerState})),i=c.minutes,s=c.seconds,l=c.isActive,d=c.isSessionDone,j=Object(b.c)((function(A){return A.displayGridState})).isDone,p=Object(b.b)(),x=function(A){return p(I(A))},h=function(A){return p(W(A))},g=i<10?"0".concat(i):i,m=s<10?"0".concat(s):s;return Object(a.useEffect)((function(){document.title=d||!l?"Picmodoro":"Picmodoro (".concat(g,":").concat(m,")")}),[g,m,d,l]),Object(a.useEffect)((function(){var A=null,e=new Date;return e.setSeconds(e.getSeconds()+60*o+1),l?A=setInterval((function(){var A=(new Date).getTime(),a=e-A,o=Math.floor(a%6e4/1e3),c=Math.floor(a%36e5/6e4);p(I(c)),p(T(o)),a<0&&(p(E(!1)),function(){var A=n.map((function(A){return A.reveal}));if(r){var e=A.reduce((function(A,e,t){return!1===e&&A.push(t),A}),[]),a=Math.floor(Math.random()*e.length);h({id:t,blockers:n.map((function(A,t){return t===e[a]?Object(v.a)(Object(v.a)({},A),{},{reveal:!0}):A}))})}else h({id:t,blockers:n.map((function(e,t){return t===A.indexOf(!1)?Object(v.a)(Object(v.a)({},e),{},{reveal:!0}):e}))})}(),p(G(!0)))}),100):clearInterval(A),function(){clearInterval(A)}}),[l,o,p]),Object(a.useEffect)((function(){p(Q({currentGoal:e}))}),[d]),Object(a.useEffect)((function(){p(R()),x(o)}),[p]),Object(u.jsxs)("div",{children:[Object(u.jsx)(f.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"50px",color:"#1e3c72"},children:d?Object(u.jsxs)(f.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bolder"},children:["Session finished"," ",Object(u.jsx)(w.a,{sx:{marginLeft:"5px"},color:"success",fontSize:"small"})]}):Object(u.jsxs)("h1",{children:[g,":",m]})}),Object(u.jsx)(_,{isActive:l,isSessionDone:d,setIsSessionDone:function(A){return p(G(A))},isDone:j,setMinutes:x,setSeconds:function(A){return p(T(A))},setIsActive:function(A){return p(E(A))},presetMin:o})]})},AA=t(36),eA=t(330),tA=Object(eA.a)("div")(r||(r=Object(AA.a)(["\n  @keyframes uparrow {\n    0% {\n      -webkit-transform: translateY(0);\n      opacity: 0.4;\n    }\n    100% {\n      -webkit-transform: translateY(-0.4em);\n      opacity: 0.9;\n    }\n  }\n  position: absolute;\n  top: -105px;\n  right: 27px;\n  border-color: transparent;\n  border-style: solid;\n  border-width: 0 0.5rem;\n  display: ",";\n  height: 0;\n  margin: 10em auto;\n  opacity: 0.4;\n  transform-origin: 50% 50%;\n  width: 0;\n\n  animation: uparrow 0.6s infinite alternate ease-in-out;\n  border-bottom: 0.8rem solid #4dc126;\n"])),(function(A){return A.guide?"block":"none"})),nA=Object(k.c)({name:"displayGrid",initialState:{isDone:!1},reducers:{toggleIsDone:function(A,e){var t=e.payload;A.isDone=t}}}),rA=nA.actions.toggleIsDone,aA=nA.reducer,oA=t(14),cA=t(335),iA=t(336),sA=t(338),lA=t(347),uA=t(348),dA=t(350),bA=t(352),jA=t(353),pA=t(344),fA=t(143),xA=t.n(fA),hA=t(144),gA=t.n(hA),mA=function(A){var e=A.setGuide,t=A.goalIdParam,n=A.currentGoal;console.log(n);var r=n.is_random,o=n.blockers,c=n.preset_min,i=n.is_done;console.log("isRandom",r);var s=Object(a.useState)(!1),l=Object(j.a)(s,2),d=l[0],p=l[1],x=Object(b.c)((function(A){return A.timerState})).isActive,h=Object(b.b)(),g=function(A){return h(W(A))},m=function(A){return h(V(A))},O=function(){h(Q({currentGoal:n})).catch((function(){return console.log("There was a problem connecting to the server.")})),p(!1)};return Object(a.useEffect)((function(){h(I(c))}),[c,h]),Object(u.jsxs)("div",{children:[Object(u.jsx)(f.a,{sx:{marginLeft:"auto",boxShadow:"0 5px 5px rgba(0,0,0,0.5)",borderRadius:"100%",backgroundColor:"#fff"},children:Object(u.jsx)(sA.a,{title:"Settings",children:Object(u.jsx)(lA.a,{disabled:!!x,onClick:function(){p(!0),e(!1)},color:"primary","aria-label":"settings picture",component:"span",children:Object(u.jsx)(xA.a,{})})})}),Object(u.jsx)(uA.a,{open:d,onClose:O,children:Object(u.jsxs)(f.a,{sx:{width:"80vw",maxWidth:"350px"},children:[Object(u.jsxs)(f.a,{sx:{display:"flex",bgcolor:"#1976D2"},children:[Object(u.jsx)(dA.a,{sx:{color:"white"},children:"Goal Settings"}),Object(u.jsx)(lA.a,{sx:{marginLeft:"auto",color:"white"},onClick:O,"aria-label":"close button",component:"span",children:Object(u.jsx)(gA.a,{})})]}),Object(u.jsx)(bA.a,{}),Object(u.jsxs)(jA.a,{sx:{textAlign:"center",padding:"1rem"},children:[Object(u.jsx)("h5",{children:"Random Reveal"}),Object(u.jsx)(pA.a,{checked:r,onChange:function(A){var e;e={id:t,isRandom:A.target.checked},h(H(e))},color:"primary"}),Object(u.jsx)("h5",{children:"Sessions"}),Object(u.jsxs)(f.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(u.jsx)(lA.a,{color:"primary",disabled:!(!i&&1!==o.length&&!x),onClick:function(){var A=o.map((function(A){return A.reveal})).lastIndexOf(!1);g({id:t,blockers:o.filter((function(e,t){return t!==A}))})},children:Object(u.jsx)(cA.a,{})}),Object(u.jsx)("p",{style:{margin:"0 5px"},children:o.length}),Object(u.jsx)(lA.a,{color:"primary",disabled:!!x,onClick:function(){g({id:t,blockers:[].concat(Object(oA.a)(o),[{clickable:!1,reveal:!1}])})},children:Object(u.jsx)(iA.a,{})})]}),Object(u.jsx)("h5",{children:"Duration"}),Object(u.jsxs)(f.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(u.jsx)(lA.a,{color:"primary",onClick:function(){m({id:t,presetMin:c-5})},disabled:25===c,children:Object(u.jsx)(cA.a,{})}),Object(u.jsxs)(f.a,{children:[c,":00"]}),Object(u.jsx)(lA.a,{color:"primary",onClick:function(){m({id:t,presetMin:c+5})},children:Object(u.jsx)(iA.a,{})})]})]}),Object(u.jsx)(bA.a,{})]})})]})},OA=t(145),vA=t.n(OA),yA=function(){var A=Object(p.h)(),e=Object(b.c)((function(A){return A.timerState})).isActive;return Object(u.jsx)(f.a,{sx:{marginRight:"auto",boxShadow:"0 5px 5px rgba(0,0,0,0.5)",borderRadius:"100%",backgroundColor:"#fff"},children:Object(u.jsx)(sA.a,{title:"Back to dashboard",children:Object(u.jsx)(lA.a,{disabled:!!e,onClick:function(){A("/dashboard")},color:"primary","aria-label":"back picture",component:"span",children:Object(u.jsx)(vA.a,{})})})})},SA=function(){console.log("Goal parent component");var A=Object(p.i)().goalid,e=Object(a.useState)(!0),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(b.b)();Object(a.useEffect)((function(){console.log("useffect triggered"),o(J({id:A})).catch((function(){return console.log("There was a problem connecting to the server")}))}),[o,A]);var c=Object(b.c)((function(A){return A.goalState})),s=c.currentGoal,l=c.currentGoalStatus,d=s.blockers;return Object(a.useEffect)((function(){(console.log("useEffect triggered hereeeeee"),Object.keys(s).length)&&(d.length&&(d.map((function(A){return A.reveal})).filter((function(A){return!0===A})).length===d.length?o(rA(!0)):o(rA(!1)),d.length>1&&r(!1)))}),[d,o,s]),"pending"===l?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(h.a,{sx:{color:"#fff",zIndex:"1250",display:"flex",flexDirection:"column"},open:!0,children:[Object(u.jsx)("h2",{children:"Loading goal..."}),Object(u.jsx)("br",{}),Object(u.jsx)(g.a,{color:"inherit"})]})}):"rejected"===l?Object(u.jsx)(i.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",height:"100%"},children:Object(u.jsx)("h3",{children:"404 not found"})}):"fulfilled"===l?Object(u.jsxs)(i.a,{sx:{textAlign:"center",display:"grid",gridTemplateRows:"1fr 3fr 1fr",alignItems:"center",width:["100%","450px"],margin:"1rem auto",borderRadius:"20px",boxShadow:"0 10px 15px rgba(0,0,0,0.5)",backgroundColor:"#fff"},children:[Object(u.jsxs)(i.a,{sx:{display:"flex",alignItems:"center",width:"350px",margin:"0 auto",position:"relative",background:"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)",borderRadius:"10px",color:"#fff",padding:"15px",boxShadow:"0 5px 10px rgba(0,0,0,0.25)"},children:[Object(u.jsx)(yA,{}),Object(u.jsx)(x,{currentGoal:s}),Object(u.jsx)(mA,{setGuide:r,currentGoal:s,goalIdParam:A}),Object(u.jsx)(tA,{guide:n?1:0})]}),Object(u.jsx)(O,{currentGoal:s}),Object(u.jsx)($,{currentGoal:s,goalIdParam:A})]}):void 0},wA=t(337),kA=Object(u.jsx)(wA.a,{styles:{"*, *::before, *::after":{margin:0,padding:0,boxSizing:"border-box"},body:{fontFamily:"'Montserrat', sans-serif",minHeight:"100vh",overflowY:"scroll",backgroundImage:"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)"}}}),DA=function(A){return Object(u.jsx)(f.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:A.children})},CA=kA,IA=function(){return Object(u.jsxs)(DA,{children:[Object(u.jsx)("h2",{children:"Home"}),Object(u.jsx)("img",{src:"https://source.unsplash.com/random/400x200",alt:""}),Object(u.jsx)("p",{style:{marginTop:"2rem",width:"500px",textAlign:"center"},children:"Amet eu quis elit ea enim nisi in nulla sit. Dolore nisi ipsum deserunt proident et sint. Aliquip duis fugiat do magna ut duis nulla elit ea ea nulla. Non nulla eiusmod laboris enim cillum."}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"2rem",width:"200px"},children:[Object(u.jsx)(y.a,{component:l.b,variant:"contained",color:"success",to:"/signin",style:{textDecoration:"none",color:"#fff"},children:"Sign In"}),Object(u.jsx)(y.a,{component:l.b,variant:"contained",color:"warning",to:"/register",style:{textDecoration:"none",color:"#fff",marginTop:"5px"},children:"Register"})]})]})},TA=t(339),EA="data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//2Q==",GA=(JSON.parse(localStorage.getItem("imgFile")),JSON.parse(localStorage.getItem("screenState"))||0),RA=(JSON.parse(localStorage.getItem("goalName")),JSON.parse(localStorage.getItem("goalList")),JSON.parse(localStorage.getItem("auth"))||{}),MA={id:RA.id,name:RA.name,email:RA.email,isUserAuthenticated:RA.isUserAuthenticated},UA=Object(k.c)({name:"auth",initialState:MA,reducers:{updateUser:function(A,e){var t=e.payload;A.id=t.id,A.name=t.name,A.email=t.email,A.isUserAuthenticated=t.isUserAuthenticated},updateIsUserAuthenticated:function(A,e){var t=e.payload;A.isUserAuthenticated=t}}}),zA=UA.actions,NA=zA.updateUser,PA=(zA.updateIsUserAuthenticated,UA.reducer),YA=function(){var A=Object(a.useState)(""),e=Object(j.a)(A,2),t=e[0],n=e[1],r=Object(a.useState)(""),o=Object(j.a)(r,2),c=o[0],i=o[1],s=Object(a.useState)(!1),d=Object(j.a)(s,2),x=d[0],h=d[1],g=Object(p.h)(),m=Object(b.b)(),O=(Object(p.g)(),function(){var A=Object(P.a)(N.a.mark((function A(e){var n,r;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return e.preventDefault(),A.prev=1,A.next=4,fetch("http://localhost:7000/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:c})});case 4:if(!(n=A.sent).ok){A.next=14;break}return A.next=8,n.json();case 8:r=A.sent,h(!1),m(NA({id:r.id,name:r.name,email:r.email,isUserAuthenticated:!0})),g("/dashboard"),A.next=15;break;case 14:h(!0);case 15:A.next=21;break;case 17:return A.prev=17,A.t0=A.catch(1),alert("There was a problem connecting to the server."),A.abrupt("return");case 21:case"end":return A.stop()}}),A,null,[[1,17]])})));return function(e){return A.apply(this,arguments)}}());return Object(u.jsxs)(f.a,{sx:{display:"flex",flexDirection:"column",width:"400px",backgroundColor:"#fff",boxShadow:"0 10px 15px rgba(0,0,0,0.5)",padding:"2rem",borderRadius:"10px"},children:[Object(u.jsx)("h2",{style:{textAlign:"center"},children:"Sign In"}),x&&Object(u.jsx)(f.a,{style:{color:"black",textAlign:"center",padding:"0.5rem",marginTop:"1rem",border:"solid 1px red",backgroundColor:"seashell",fontSize:"0.8rem"},children:"Email and password combination is incorrect. Please try again."}),Object(u.jsx)(TA.a,{sx:{marginTop:"10px"},fullWidth:!0,label:"Email address",onChange:function(A){return n(A.target.value)}}),Object(u.jsx)(TA.a,{sx:{marginTop:"10px"},type:"password",fullWidth:!0,label:"Password",onChange:function(A){return i(A.target.value)},children:"Password"}),Object(u.jsx)(y.a,{sx:{marginTop:"1rem"},to:"/dashboard",variant:"contained",component:l.b,onClick:O,children:"Sign In"}),Object(u.jsx)(y.a,{sx:{marginTop:"5px"},to:"/dashboard",variant:"contained",color:"warning",component:l.b,children:"Test"}),Object(u.jsxs)("p",{style:{fontSize:"0.8rem",marginTop:"10px"},children:["Don't have an account?"," ",Object(u.jsx)(f.a,{sx:{textDecoration:"none",color:"#1976D2",fontWeight:"bolder"},component:l.b,to:"/register",children:"REGISTER"})]})]})},BA=function(){return Object(u.jsx)(DA,{children:Object(u.jsx)(YA,{})})},FA=t(37),QA=t(150),JA=t(65),LA=JA.a({name:JA.b().required("This field is required."),email:JA.b().email("Invalid email address.").required("This field is required.").test("Unique Email","Email already in use.",function(){var A=Object(P.a)(N.a.mark((function A(e){return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",new Promise(function(){var A=Object(P.a)(N.a.mark((function A(t,n){return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("http://localhost:7000/check/".concat(e));case 3:A.sent.ok?t(!0):t(!1),A.next=11;break;case 7:return A.prev=7,A.t0=A.catch(0),alert("There was a problem connecting to the server."),A.abrupt("return");case 11:case"end":return A.stop()}}),A,null,[[0,7]])})));return function(e,t){return A.apply(this,arguments)}}()));case 1:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()),password:JA.b().required("This field is required."),passwordConfirmation:JA.b().test("passwords-match","Passwords must match.",(function(A){return this.parent.password===A})).required("This field is required.")}),qA=function(){var A=Object(FA.e)({mode:"onSubmit",resolver:Object(QA.a)(LA)}),e=A.handleSubmit,t=A.control,n=A.formState.errors,r=Object(b.b)(),a=Object(p.h)(),o=function(){var A=Object(P.a)(N.a.mark((function A(e){var t,n,o,c,i;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(!e){A.next=19;break}return t=e.name,n=e.email,o=e.password,A.prev=2,A.next=5,fetch("http://localhost:7000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:o})});case 5:if(c=A.sent,console.log("res",c),!c.ok){A.next=13;break}return A.next=10,c.json();case 10:i=A.sent,r(NA({id:i.id,name:i.name,email:i.email,isUserAuthenticated:!0})),a("/dashboard");case 13:A.next=19;break;case 15:return A.prev=15,A.t0=A.catch(2),alert("There was a problem connecting to the server."),A.abrupt("return");case 19:case"end":return A.stop()}}),A,null,[[2,15]])})));return function(e){return A.apply(this,arguments)}}();return Object(u.jsxs)(f.a,{sx:{display:"flex",flexDirection:"column",width:"400px",backgroundColor:"#fff",boxShadow:"0 10px 15px rgba(0,0,0,0.5)",padding:"2rem",borderRadius:"10px"},children:[Object(u.jsx)("h2",{style:{textAlign:"center"},children:"Register"}),Object(u.jsxs)("form",{onSubmit:e(o),children:[Object(u.jsx)(FA.a,{render:function(A){var e,t=A.field;return Object(u.jsx)(TA.a,Object(v.a)(Object(v.a)({},t),{},{sx:{marginTop:"5px"},fullWidth:!0,id:"outlined-error-helper-text",label:"Name *",error:!!n.name,helperText:(null===(e=n.name)||void 0===e?void 0:e.message)||" "}))},name:"name",control:t,defaultValue:"",className:"materialUIInput"}),Object(u.jsx)(FA.a,{render:function(A){var e,t=A.field;return Object(u.jsx)(TA.a,Object(v.a)(Object(v.a)({},t),{},{sx:{marginTop:"5px"},fullWidth:!0,id:"outlined-error-helper-text",label:"Email address *",error:!!n.email,helperText:(null===(e=n.email)||void 0===e?void 0:e.message)||" "}))},name:"email",control:t,defaultValue:"",className:"materialUIInput"}),Object(u.jsx)(FA.a,{render:function(A){var e,t=A.field;return Object(u.jsx)(TA.a,Object(v.a)(Object(v.a)({},t),{},{sx:{marginTop:"5px"},fullWidth:!0,type:"password",id:"outlined-error-helper-text",label:"Password *",error:!!n.password,helperText:(null===(e=n.password)||void 0===e?void 0:e.message)||" "}))},name:"password",control:t,defaultValue:"",className:"materialUIInput"}),Object(u.jsx)(FA.a,{render:function(A){var e,t=A.field;return Object(u.jsx)(TA.a,Object(v.a)(Object(v.a)({},t),{},{sx:{marginTop:"5px"},fullWidth:!0,type:"password",id:"outlined-error-helper-text",label:"Confirm password *",error:!!(null===n||void 0===n?void 0:n.passwordConfirmation),helperText:(null===(e=n.passwordConfirmation)||void 0===e?void 0:e.message)||" "}))},name:"passwordConfirmation",control:t,defaultValue:"",className:"materialUIInput"}),Object(u.jsx)(y.a,{type:"submit",sx:{marginTop:"0.2rem",width:"100%"},variant:"contained",children:"Register"})]}),Object(u.jsxs)("p",{style:{fontSize:"0.8rem",marginTop:"10px"},children:["Already have an account?"," ",Object(u.jsx)(f.a,{sx:{textDecoration:"none",color:"#1976D2",fontWeight:"bolder"},component:l.b,to:"/signin",children:"SIGN IN"})]})]})},WA=function(){return Object(u.jsx)(DA,{children:Object(u.jsx)(qA,{})})},HA=t(343),VA=t(341),KA=t(351),ZA={value:GA||0},XA=Object(k.c)({name:"screen",initialState:ZA,reducers:{updateScreen:function(A,e){var t=e.payload;A.value=t}}}),_A=(XA.actions.updateScreen,XA.reducer),$A=function(){console.log("Form.js");var A=Object(a.useState)(""),e=Object(j.a)(A,2),t=e[0],n=e[1],r=Object(a.useState)(""),o=Object(j.a)(r,2),c=o[0],i=o[1],s=Object(a.useState)(!0),d=Object(j.a)(s,2),x=d[0],m=d[1],O=Object(a.useState)(!1),v=Object(j.a)(O,2),y=v[0],S=v[1],w=Object(a.useState)(!1),k=Object(j.a)(w,2),D=k[0],C=k[1],I=Object(a.useState)(!1),T=Object(j.a)(I,2),E=T[0],G=T[1],R=Object(a.useState)(!1),M=Object(j.a)(R,2),U=M[0],z=M[1],N=Object(a.useState)(!1),P=Object(j.a)(N,2),Y=P[0],F=P[1],Q=Object(b.c)((function(A){return A.goalState})),J=(Q.goalName,Q.goalImage,Object(b.c)((function(A){return A.goalState}))),L=(J.goalList,J.addStatus,Object(b.c)((function(A){return A.authState})).id),q=Object(b.b)(),W=Object(a.useRef)(),H=Object(a.useRef)(),V=Object(p.h)();return Object(a.useEffect)((function(){G(!0);var A=new Image;A.src=t,A.onload=function(){this.width>0&&(G(!1),m(!0),S(!1))},A.onerror=function(A){console.log("error",A),G(!1),m(!1)},t.length&&S(!1)}),[t]),Object(a.useEffect)((function(){c.length&&C(!1)}),[c]),Object(u.jsx)(f.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:["350px","450px"],backgroundColor:"#fff"},children:Object(u.jsxs)(f.a,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(u.jsxs)(KA.a,{variant:"h6",children:[Object(u.jsxs)(f.a,{sx:{color:"#4EC127",fontWeight:"bolder"},component:"span",children:["Step 1:"," "]}),"What is your goal?"]}),Object(u.jsx)(f.a,{sx:{width:"100%",alignSelf:"center",marginTop:"5px"},children:Object(u.jsx)(TA.a,{error:!!D,className:"name-field",fullWidth:!0,inputRef:W,id:"outlined-name",label:"Enter goal name",value:c,onChange:function(A){i(A.target.value)},helperText:D?"Please enter your goal name.":"Ex. Finish Atomic Habits book, Score A+ on Math"})}),Object(u.jsxs)(KA.a,{variant:"h6",children:[Object(u.jsxs)(f.a,{sx:{color:"#4EC127",fontWeight:"bolder"},component:"span",children:["Step 2:"," "]}),"What image will represent this goal?"]}),Object(u.jsxs)(f.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"5px"},children:[Object(u.jsx)(TA.a,{error:!!y,className:"name-field",fullWidth:!0,id:"outlined-error-helper-text",label:"Enter image url",value:t,onChange:function(A){return n(A.target.value)},helperText:y?"Please enter a valid image url.":"Ex. https://source.unsplash.com/random/300x200",inputRef:H}),E?Object(u.jsx)(f.a,{sx:{border:"solid 1px rgba(0,0,0,0.23)",width:"100%",height:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(u.jsx)(g.a,{})}):Object(u.jsx)(f.a,{sx:{border:"solid 1px rgba(0,0,0,0.23)",width:"100%"},component:"img",src:x?t:EA,alt:""})]}),Object(u.jsxs)(KA.a,{variant:"h6",children:[Object(u.jsxs)(f.a,{sx:{color:"#4EC127",fontWeight:"bolder"},component:"span",children:["Step 3:"," "]}),"Submit and start!"]}),Object(u.jsx)(VA.a,{loading:!(!E&&!U),loadingPosition:"start",sx:{alignSelf:"center",width:"40%"},onClick:function(A){if(A.preventDefault(),x||(S(!0),H.current.focus()),c.length||(C(!0),W.current.focus()),c.length&&x){z(!0),F(!0);var e=Object(HA.a)();q(B({ownerId:L,id:e,goalName:c,goalImage:t})).then((function(){return setTimeout((function(){F(!1),V("/".concat(e))}),1e3)})).catch((function(){return console.log("There was a problem connecting to the server")}))}},variant:"contained",component:l.b,to:"/dashboard",children:"Submit"}),Object(u.jsx)(h.a,{sx:{color:"#fff",zIndex:"1250",display:"flex",flexDirection:"column"},open:Y,children:Object(u.jsx)(g.a,{color:"inherit"})})]})})},Ae=function(){var A=Object(a.useState)(!1),e=Object(j.a)(A,2),t=e[0],n=e[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(f.a,{sx:{width:"200px",height:"200px",display:"flex",flexDirection:"column",border:"solid 1px black",borderRadius:"10px",justifyContent:"center",alignItems:"center",fontWeight:"bolder",fontSize:"5rem",cursor:"pointer",transition:"all ease-in 200ms",color:"#1e3c72","&:hover":{boxShadow:"0 10px 15px rgba(0,0,0,0.5)"}},component:"button",onClick:function(){n(!0)},children:"+"}),Object(u.jsxs)(uA.a,{open:t,onClose:function(){n(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(u.jsx)(dA.a,{sx:{bgcolor:"#1976D2",color:"white"},id:"alert-dialog-title",children:"Add New Picmodoro Goal"}),Object(u.jsx)(bA.a,{}),Object(u.jsx)(jA.a,{children:Object(u.jsx)($A,{})})]})]})},ee=t(149),te=t.n(ee),ne=t(355),re=function(A){var e=A.id,t=A.goalName,n=A.goalImage,r=A.blockers,o=r.map((function(A){return A.reveal})).filter((function(A){return!0===A})).length,c=Object(b.b)(),i=Object(a.useState)(null),s=Object(j.a)(i,2),d=s[0],p=s[1],x=Object(a.useState)(!1),m=Object(j.a)(x,2),O=m[0],v=m[1],y=Boolean(d),S=y?"simple-popover":void 0;return Object(u.jsxs)(f.a,{sx:{width:"200px",height:"200px",display:"flex",flexDirection:"column",border:"solid 1px black",borderRadius:"10px",justifyContent:"flex-end",alignItems:"center",background:"url(".concat(n,")"),backgroundPosition:"center",backgroundSize:"cover",overflow:"hidden",textDecoration:"none",transition:"all ease-in 200ms","&:hover":{boxShadow:"0 10px 15px rgba(0,0,0,0.5)"}},component:l.b,to:"/".concat(e),children:[Object(u.jsxs)(f.a,{style:{color:"#fff",backgroundColor:"#1e3c72",width:"100%",padding:"1rem",maxHeight:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",position:"relative"},children:[Object(u.jsx)("h5",{children:t}),Object(u.jsxs)("p",{style:{fontSize:"0.7rem"},children:["Progress: ",o,"/",r.length]}),Object(u.jsx)(lA.a,{sx:{color:"#fff",position:"absolute",right:0,"&:hover":{backgroundColor:"rgba(0,0,0,0.2)"}},onClick:function(A){A.preventDefault(),p(A.currentTarget)},color:"primary","aria-label":"more options",component:"span",children:Object(u.jsx)(te.a,{})}),Object(u.jsx)(ne.a,{id:S,open:y,anchorEl:d,onClose:function(A){A.preventDefault(),p(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(u.jsxs)(f.a,{sx:{backgroundColor:"#fff",cursor:"pointer","& p":{padding:"1rem","&:hover":{backgroundColor:"rgba(0,0,0,0.23)"}}},children:[Object(u.jsx)("p",{children:"Edit goal name"}),Object(u.jsx)("p",{children:"Change image url"}),Object(u.jsx)("p",{onClick:function(A){A.preventDefault(),v(!0),c(F({id:e})).then((function(){return v(!1)})).catch((function(){return console.log("There was a problem connecting to the server.")}))},children:"Delete"})]})})]}),Object(u.jsx)(h.a,{sx:{color:"#fff",zIndex:"1250",display:"flex",flexDirection:"column"},open:O,children:Object(u.jsx)(g.a,{color:"inherit"})})]})},ae=function(A){var e=A.name;return Object(u.jsx)("div",{children:Object(u.jsxs)("h3",{style:{color:"#fff"},children:["Good day, ",e,"!"]})})},oe=function(){var A=Object(b.c)((function(A){return A.authState})),e=A.id,t=A.name,n=(A.email,A.isUserAuthenticated,Object(b.b)());Object(a.useEffect)((function(){n(Y({id:e})).catch((function(){return console.log("There was a problem connecting to the server")})),n(K()),n(Z())}),[n]);var r=Object(b.c)((function(A){return A.goalState})),o=r.goalList,c=r.fetchStatus;return Object(u.jsxs)(DA,{children:[Object(u.jsx)("h2",{style:{color:"#fff"},children:"Dashboard"}),Object(u.jsx)(ae,{name:t}),Object(u.jsxs)(f.a,{sx:{padding:"3rem 2rem",boxShadow:"0 10px 15px rgba(0,0,0,0.23)",backgroundColor:"#fff",borderRadius:"5px",width:["20rem","70rem"],height:"30rem",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",justifyItems:"center",gridGap:"30px",overflowY:"scroll",position:"relative","::-webkit-scrollbar":{width:"10px"},"::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"10px"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:[Object(u.jsx)(y.a,{onClick:function(){setTimeout((function(){n(NA({isUserAuthenticated:!1}))}),500)},variant:"outlined",sx:{position:"absolute",right:"0"},children:"Logout"}),"fulfilled"===c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ae,{}),o.map((function(A){return Object(u.jsx)(re,{id:A.id,goalName:A.goal_name,goalImage:A.image_url,blockers:A.blockers},A.id)}))]}):Object(u.jsx)(g.a,{sx:{position:"absolute",top:"calc((100% / 2) - 1rem)"}})]})]})},ce=function(){return Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(u.jsx)("h1",{children:"404"}),Object(u.jsx)("h3",{children:"Not Found"})]})},ie=function(){var A=Object(p.g)();return Object(b.c)((function(A){return A.authState})).isUserAuthenticated?Object(u.jsx)(p.b,{}):Object(u.jsx)(p.a,{to:"/signin",replace:!0,state:{from:A}})},se=function(){var A=Object(p.g)();Object(p.h)();return Object(b.c)((function(A){return A.authState})).isUserAuthenticated?Object(u.jsx)(p.a,{to:"/dashboard",replace:!0,state:{from:A}}):Object(u.jsx)(p.b,{})};var le=function(){var A=Object(b.c)((function(A){return A.goalState})).goalList,e=Object(b.c)((function(A){return A.authState})),t=e.id,n=e.name,r=e.email,o=e.isUserAuthenticated;return Object(a.useEffect)((function(){localStorage.goalList=JSON.stringify(A)}),[A]),Object(a.useEffect)((function(){localStorage.auth=JSON.stringify({id:t,name:n,email:r,isUserAuthenticated:o})}),[t,n,r,o]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(l.a,{basename:"/picmodoro",children:[Object(u.jsx)(d,{}),Object(u.jsxs)(p.e,{children:[Object(u.jsx)(p.c,{path:"/",exact:!0,element:o?Object(u.jsx)(p.a,{to:"/dashboard"}):Object(u.jsx)(IA,{})}),Object(u.jsxs)(p.c,{element:Object(u.jsx)(ie,{}),children:[Object(u.jsx)(p.c,{path:"/dashboard",element:Object(u.jsx)(oe,{})}),Object(u.jsx)(p.c,{path:"/:goalid",element:Object(u.jsx)(SA,{})})]}),Object(u.jsxs)(p.c,{element:Object(u.jsx)(se,{}),children:[Object(u.jsx)(p.c,{path:"/signin",element:Object(u.jsx)(BA,{})}),Object(u.jsx)(p.c,{path:"/register",element:Object(u.jsx)(WA,{})})]}),Object(u.jsx)(p.c,{path:"*",element:Object(u.jsx)(ce,{})})]})]})})},ue=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,356)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;t(A),n(A),r(A),a(A),o(A)}))},de=t(35),be=Object(k.c)({name:"settings",initialState:{isRandom:!1,presetMin:.1,blockers:[{clickable:!1,reveal:!1}]},reducers:{toggleIsRandom:function(A,e){var t=e.payload;A.isRandom=t},updatePresetMin:function(A,e){var t=e.payload;A.presetMin=t},updateBlockers:function(A,e){var t=e.payload;A.blockers=t}}}),je=be.actions,pe=(je.toggleIsRandom,je.updatePresetMin,je.updateBlockers,be.reducer),fe=Object(de.b)({goalState:X,authState:PA,screenState:_A,settingsState:pe,timerState:M,displayGridState:aA}),xe=Object(k.a)({reducer:fe});c.a.render(Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(b.a,{store:xe,children:[CA,Object(u.jsx)(le,{})]})}),document.getElementById("root")),ue()}},[[282,1,2]]]);
//# sourceMappingURL=main.3346d627.chunk.js.map