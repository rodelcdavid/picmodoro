{"version":3,"sources":["components/Details.js","components/ImageGrid.js","features/timerSlice.js","features/goalSlice.js","components/DisplayTimer.js","components/UpArrow.js","features/displayGridSlice.js","components/GoalSettings.js","components/BackButton.js","routes/goal.js","assets/placeholder.jpg","utils/getLocalStorage.js","features/authSlice.js","assets/pomodoro.png","components/_shared/Logo.js","components/SignInForm.js","routes/signin.js","components/RegisterForm.js","utils/globalstyles.js","routes/register.js","components/GoalSetup.js","components/AddGoalButton.js","components/GoalCard.js","routes/dashboard.js","components/_shared/NotFound.js","components/_shared/Heading.js","outlet/PrivateRoutes.js","outlet/PublicRoutes.js","App.js","reportWebVitals.js","features/screenSlice.js","features/index.js","app/store.js","index.js"],"names":["Details","currentGoal","goalName","goal_name","blockers","totalReveal","map","blocker","reveal","filter","bool","length","console","log","Box","sx","color","justifySelf","fontSize","style","marginTop","ImageGrid","goalImage","image_url","isDone","useSelector","state","displayGridState","wide","useMediaQuery","useState","imagePreloaded","setImagePreloaded","useEffect","img","Image","onload","src","ImageBlocker","useCallback","i","border","backgroundColor","cursor","clickable","numBlockers","gridColumn","gridRow","imgWidth","imgHeight","gridColumnSize","gridRowSize","getGridValues","display","gridTemplateColumns","gridTemplateRows","width","height","background","backgroundSize","backgroundRepeat","backgroundPosition","boxShadow","overflow","boxSizing","Skeleton","variant","animation","timerSlice","createSlice","name","initialState","minutes","seconds","isActive","isSessionDone","reducers","updateMinutes","payload","updateSeconds","toggleIsActive","toggleIsSessionDone","resetTimerState","actions","axiosJWT","axios","create","refreshToken","a","JSON","parse","localStorage","getItem","post","token","res","status","accessToken","stringify","data","interceptors","request","use","config","currentDate","Date","jwt_decode","exp","getTime","headers","err","Promise","reject","getGoalListAsync","createAsyncThunk","get","id","authorization","response","goalList","addGoalAsync","auth","goal","deleteGoalAsync","delete","goalToDelete","saveSettingsAsync","patch","goalToUpdate","getCurrentGoalAsync","goalSlice","currentGoalStatus","fetchStatus","addStatus","error","updateBlockers","updatePresetMin","preset_min","presetMin","toggleIsRandom","is_random","isRandom","updateIsDone","is_done","updateCurrentGoal","changeImageUrl","resetCurrentGoal","resetCurrentGoalStatus","updateError","extraReducers","fulfilled","pending","rejected","unshift","index","findIndex","Object","keys","addGoal","deleteGoal","TimerControls","setIsSessionDone","setMinutes","setSeconds","setIsActive","Button","onClick","size","disabled","margin","DisplayTimer","goalIdParam","timerState","dispatch","useDispatch","_updateMinutes","min","_updateBlockers","onReveal","unrevealed","reduce","arr","item","push","randomIndex","Math","floor","random","indexOf","timerMinutes","timerSeconds","document","title","interval","start","getSeconds","setInterval","current","distance","s","m","clearInterval","position","top","left","transform","alignItems","justifyContent","fontWeight","marginLeft","sec","UpArrow","styled","guide","displayGridSlice","toggleIsDone","GoalSettings","setGuide","open","setOpen","_updatePresetMin","handleClose","catch","Tooltip","IconButton","component","Dialog","onClose","maxWidth","bgcolor","DialogTitle","Divider","DialogContent","textAlign","padding","Switch","checked","onChange","e","target","lastItemIndex","lastIndexOf","KeyboardArrowDown","KeyboardArrowUp","BackButton","navigate","useNavigate","borderRadius","Goal","useParams","goalid","goalState","Backdrop","zIndex","flexDirection","CircularProgress","borderBottom","minHeight","prevScreen","prevAuth","email","isUserAuthenticated","authSlice","updateUser","updateIsUserAuthenticated","Logo","textShadow","fontFamily","pomodoro","alt","SignInForm","setEmail","password","setPassword","setError","openSnackbar","setOpenSnackbar","handleSignIn","type","preventDefault","inputEmail","inputPassword","signIn","fetch","method","body","ok","json","user","alert","setTimeout","gap","backgroundImage","Typography","TextField","fullWidth","label","value","to","RouterLink","textDecoration","Snackbar","autoHideDuration","anchorOrigin","horizontal","vertical","Alert","severity","SignIn","schema","yup","required","test","resolve","passwordConfirmation","this","parent","RegisterForm","useForm","mode","resolver","yupResolver","handleSubmit","control","errors","formState","onRegister","onSubmit","render","field","helperText","message","defaultValue","className","globalStyles","GlobalStyles","styles","Wrapper","props","children","Register","GoalSetup","inputUrl","setInputUrl","inputName","setInputName","isImageValid","setIsImageValid","imageError","setImageError","nameError","setNameError","loading","setLoading","loadingButton","setLoadingButton","openBackdrop","setOpenBackdrop","nameFieldRef","useRef","imageFieldRef","image","onerror","alignSelf","inputRef","placeholder","LoadingButton","focus","uuidv4","then","AddGoalButton","transition","GoalCard","anchorEl","setAnchorEl","renameMode","setRenameMode","selectedGoal","setSelectedGoal","setName","inputURL","setInputURL","imgURL","setImgURL","openChangeImage","setOpenChangeImage","renameRef","urlError","setUrlError","loadingImage","setLoadingImage","firstLoad","url","Boolean","popOverId","undefined","borderTop","outline","ref","onBlur","prev","onKeyDown","keyCode","right","currentTarget","Menu","transformOrigin","MenuItem","DialogActions","Dashboard","authState","justifyItems","gridGap","overflowY","NotFound","Heading","handleLogout","removeItem","openPopOver","largeScreen","PrivateRoutes","location","useLocation","replace","from","PublicRoutes","App","basename","path","exact","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","screenSlice","updateScreen","rootReducer","combineReducers","goalReducer","userReducer","screenState","screenReducer","timerReducer","displayGridReducer","configureStore","reducer","ReactDOM","store","getElementById"],"mappings":"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","file":"static/js/main.18852b39.chunk.js","sourcesContent":["import { Box } from \"@mui/system\";\r\nimport React from \"react\";\r\n\r\nconst Details = ({ currentGoal }) => {\r\n  const { goal_name: goalName, blockers } = currentGoal;\r\n\r\n  const reveal = blockers.map((blocker) => blocker.reveal);\r\n  const totalReveal = reveal.filter((bool) => bool === true).length;\r\n\r\n  console.log(\"Details Component\");\r\n  return (\r\n    <Box\r\n      sx={{\r\n        // width: \"100%\",\r\n        // margin: \"0 auto\",\r\n        color: \"rgba(0,0,0,0.87)\",\r\n        justifySelf: \"center\",\r\n\r\n        \"& h3\": {\r\n          fontSize: goalName.length > 10 ? \"1rem\" : \"1.2rem\",\r\n        },\r\n\r\n        \"@media (min-width:580px)\": {\r\n          \"& h3\": {\r\n            fontSize: \"1.2rem\",\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      <h3 style={{}}>{goalName}</h3>\r\n      <p\r\n        style={{\r\n          // color: \"#2a5298\",\r\n          fontSize: \"0.7rem\",\r\n          // fontWeight: \"bolder\",\r\n          marginTop: \"5px\",\r\n        }}\r\n      >\r\n        Progress: {totalReveal}/{blockers.length}\r\n      </p>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Details;\r\n","import { Skeleton, useMediaQuery } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst getGridValues = (numBlockers, wide) => {\r\n  //TODO: make this 3 sizes, 3 media q\r\n  const imgWidth = wide ? 476 : 280;\r\n  const imgHeight = wide ? 340 : 200;\r\n\r\n  // const imgWidth = 350;\r\n  // const imgHeight = 300;\r\n  // const imgWidth = 250;\r\n  // const imgHeight = 200;\r\n  let gridColumn, gridRow;\r\n\r\n  for (let i = 10; i > 1; i--) {\r\n    if (numBlockers === 4) {\r\n      gridColumn = 2;\r\n      gridRow = 2;\r\n      break;\r\n    } else if (numBlockers % i === 0 && numBlockers >= i * 3) {\r\n      gridColumn = numBlockers / i;\r\n      gridRow = i;\r\n      break;\r\n    } else {\r\n      gridColumn = numBlockers;\r\n      gridRow = 1;\r\n    }\r\n  }\r\n\r\n  let gridColumnSize = imgWidth / gridColumn;\r\n\r\n  //for those that don't divide equally\r\n  if ((imgWidth / gridColumn) % 10 !== 0) {\r\n    gridColumnSize += 0.04;\r\n  }\r\n\r\n  const gridRowSize = imgHeight / gridRow;\r\n\r\n  const gridValues = {\r\n    imgWidth,\r\n    imgHeight,\r\n    gridColumnSize,\r\n    gridRowSize,\r\n    gridColumn,\r\n    gridRow,\r\n  };\r\n  return gridValues;\r\n};\r\n\r\nconst ImageGrid = ({ currentGoal }) => {\r\n  // const { is_done: isDone, image_url: goalImage, blockers } = currentGoal;\r\n  const { image_url: goalImage, blockers } = currentGoal;\r\n\r\n  //Selectors\r\n  const { isDone } = useSelector((state) => state.displayGridState);\r\n  // const { goalImage } = useSelector((state) => state.goalState);\r\n  // const { blockers } = useSelector((state) => state.settingsState);\r\n\r\n  //this component rerenders on any pomodoro state change\r\n  const wide = useMediaQuery(\"(min-width:580px\");\r\n\r\n  console.log(\"Image Grid\");\r\n  //Wrapped in useCallback, prevented rerender when duration settings changes\r\n\r\n  //preload image\r\n  const [imagePreloaded, setImagePreloaded] = useState(false);\r\n  useEffect(() => {\r\n    const img = new Image();\r\n    console.log(currentGoal);\r\n\r\n    img.onload = () => {\r\n      setImagePreloaded(true);\r\n    };\r\n    img.src = currentGoal.image_url;\r\n  }, [currentGoal]);\r\n\r\n  const ImageBlocker = useCallback(() => {\r\n    return (\r\n      <>\r\n        {blockers.map((blocker, i) => (\r\n          <Box\r\n            key={i}\r\n            sx={{\r\n              border: isDone ? \"none\" : \"solid 1px rgba(0,0,0,0.6)\",\r\n              backgroundColor: blocker.reveal ? \"transparent\" : \"#fff\",\r\n              cursor: blocker.clickable ? \"pointer\" : \"default\",\r\n            }}\r\n          />\r\n        ))}\r\n      </>\r\n    );\r\n  }, [blockers, isDone]);\r\n\r\n  const {\r\n    imgWidth,\r\n    imgHeight,\r\n    gridColumnSize,\r\n    gridRowSize,\r\n    gridColumn,\r\n    gridRow,\r\n  } = getGridValues(blockers.length, wide);\r\n\r\n  return (\r\n    <Box\r\n    // sx={{\r\n    //   display: \"flex\",\r\n    //   flexDirection: \"column\",\r\n    //   justifyContent: \"center\",\r\n    //   alignItems: \"center\",\r\n    //   textAlign: \"center\",\r\n    // }}\r\n    >\r\n      {imagePreloaded ? (\r\n        <Box\r\n          style={{\r\n            //sx or style?\r\n            display: \"grid\",\r\n            gridTemplateColumns: `repeat( ${gridColumn}, ${gridColumnSize}px`,\r\n            gridTemplateRows: `repeat( ${gridRow}, ${gridRowSize}px )`,\r\n            width: imgWidth,\r\n            height: imgHeight,\r\n            background: `url(${goalImage})`,\r\n            backgroundSize: \"cover\",\r\n            backgroundRepeat: \"no-repeat\",\r\n            backgroundPosition: \"center\",\r\n            border: \"solid 1px rgba(0,0,0,0.6)\",\r\n            boxShadow: \"0 5px 10px rgba(0,0,0,0.25)\",\r\n            overflow: \"hidden\",\r\n            boxSizing: \"content-box\",\r\n          }}\r\n        >\r\n          <ImageBlocker />\r\n        </Box>\r\n      ) : (\r\n        <Skeleton\r\n          sx={{\r\n            backgroundColor: \"#fff\",\r\n            border: \"2px solid rgba(0,0,0,0.6)\",\r\n            boxShadow: \"0 5px 10px rgba(0,0,0,0.25)\",\r\n            boxSizing: \"content-box\",\r\n          }}\r\n          variant=\"rectangular\"\r\n          width={imgWidth}\r\n          height={imgHeight}\r\n          animation=\"wave\"\r\n        />\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\nexport default ImageGrid;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  minutes: 0, //can use reselect or thunk middleware to access presetMin state\r\n  seconds: 0, //set to 25\r\n  isActive: false,\r\n  isSessionDone: false,\r\n};\r\n\r\nexport const timerSlice = createSlice({\r\n  name: \"timer\",\r\n  initialState,\r\n  reducers: {\r\n    updateMinutes: (state, { payload }) => {\r\n      state.minutes = payload;\r\n    },\r\n    updateSeconds: (state, { payload }) => {\r\n      state.seconds = payload;\r\n    },\r\n    toggleIsActive: (state, { payload }) => {\r\n      state.isActive = payload;\r\n    },\r\n    toggleIsSessionDone: (state, { payload }) => {\r\n      state.isSessionDone = payload;\r\n    },\r\n    resetTimerState: (state, { payload }) => {\r\n      //?IS there a shorter way to do this?\r\n      state.minutes = 0;\r\n      state.seconds = 0;\r\n      state.isActive = false;\r\n      state.isSessionDone = false;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n  updateMinutes,\r\n  updateSeconds,\r\n  toggleIsActive,\r\n  toggleIsSessionDone,\r\n  resetTimerState,\r\n} = timerSlice.actions;\r\n\r\nexport default timerSlice.reducer;\r\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\n//id params, token headers\r\n//endpoint should be /dashboard/:ownerId\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport const axiosJWT = axios.create();\r\n\r\n// const auth = JSON.parse(localStorage.getItem(\"auth\"));\r\n\r\nconst refreshToken = async () => {\r\n  try {\r\n    const refreshToken = JSON.parse(localStorage.getItem(\"refreshToken\"));\r\n\r\n    const res = await axios.post(\r\n      \"https://desolate-lake-70726.herokuapp.com/refresh\",\r\n      {\r\n        token: refreshToken,\r\n      }\r\n    ); //get refreshtoken from localstorage\r\n\r\n    if (res.status === 200) {\r\n      //update user with tokens\r\n      localStorage.accessToken = JSON.stringify(res.data.accessToken);\r\n      localStorage.refreshToken = JSON.stringify(res.data.refreshToken);\r\n\r\n      return res.data;\r\n    }\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\naxiosJWT.interceptors.request.use(\r\n  async (config) => {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n    let currentDate = new Date();\r\n    const decodedToken = jwt_decode(accessToken); //get accesstoken from localstorage\r\n\r\n    if (decodedToken.exp * 1000 < currentDate.getTime()) {\r\n      const data = await refreshToken();\r\n\r\n      if (data) {\r\n        config.headers[\"authorization\"] = \"Bearer \" + data.accessToken;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\nexport const getGoalListAsync = createAsyncThunk(\r\n  \"goals/getGoalListAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const accessToken = JSON.parse(localStorage.getItem(\"accessToken\"));\r\n\r\n      const response = await axiosJWT.get(\r\n        `https://desolate-lake-70726.herokuapp.com/${payload.id}/goal-list`,\r\n        {\r\n          headers: { authorization: `Bearer ${accessToken}` },\r\n        }\r\n      );\r\n      const goalList = response.data;\r\n      return { goalList };\r\n    } catch (err) {\r\n      if (err.response?.status === 401) {\r\n        return Promise.reject(err);\r\n      } else if (err.request) {\r\n        console.log(\"There was a problem connecting to the server.\");\r\n      } else {\r\n        console.log(\"Error\", err);\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport const addGoalAsync = createAsyncThunk(\r\n  \"goals/addGoalAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const accessToken = JSON.parse(localStorage.getItem(\"accessToken\"));\r\n      const auth = JSON.parse(localStorage.getItem(\"auth\"));\r\n\r\n      const data = {\r\n        goalName: payload.goalName,\r\n        goalImage: payload.goalImage,\r\n      };\r\n\r\n      const response = await axiosJWT.post(\r\n        `https://desolate-lake-70726.herokuapp.com/${auth.id}/${payload.id}`,\r\n        data,\r\n        {\r\n          headers: {\r\n            authorization: \"Bearer \" + accessToken,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      const goal = response.data;\r\n      return { goal };\r\n    } catch (err) {\r\n      if (err.response?.status === 401) {\r\n        return Promise.reject(err);\r\n      } else if (err.request) {\r\n        console.log(\"There was a problem connecting to the server.\");\r\n      } else {\r\n        console.log(\"Error\");\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteGoalAsync = createAsyncThunk(\r\n  \"goals/deleteGoalAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const accessToken = JSON.parse(localStorage.getItem(\"accessToken\"));\r\n      const auth = JSON.parse(localStorage.getItem(\"auth\"));\r\n\r\n      const response = await axiosJWT.delete(\r\n        `https://desolate-lake-70726.herokuapp.com/${auth.id}/${payload.id}`,\r\n        {\r\n          headers: { authorization: \"Bearer \" + accessToken },\r\n        }\r\n      );\r\n      const goalToDelete = response.data;\r\n      return { goalToDelete };\r\n    } catch (err) {\r\n      if (err.response?.status === 401) {\r\n        return Promise.reject(err);\r\n      } else if (err.request) {\r\n        console.log(\"There was a problem connecting to the server.\");\r\n      } else {\r\n        console.log(\"Error\");\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport const saveSettingsAsync = createAsyncThunk(\r\n  \"goals/saveSettingsAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const accessToken = JSON.parse(localStorage.getItem(\"accessToken\"));\r\n      const auth = JSON.parse(localStorage.getItem(\"auth\"));\r\n\r\n      const data = {\r\n        currentGoal: payload.currentGoal,\r\n      };\r\n\r\n      const response = await axiosJWT.patch(\r\n        `https://desolate-lake-70726.herokuapp.com/${auth.id}/${payload.id}`,\r\n        data,\r\n        {\r\n          headers: {\r\n            authorization: \"Bearer \" + accessToken,\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      const goalToUpdate = response.data;\r\n      return { goalToUpdate };\r\n    } catch (err) {\r\n      if (err.response?.status === 401) {\r\n        return Promise.reject(err);\r\n      } else if (err.request) {\r\n        console.log(\"There was a problem connecting to the server.\");\r\n      } else {\r\n        console.log(\"Error\");\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport const getCurrentGoalAsync = createAsyncThunk(\r\n  \"goals/getCurrentGoalAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const accessToken = JSON.parse(localStorage.getItem(\"accessToken\"));\r\n      const auth = JSON.parse(localStorage.getItem(\"auth\"));\r\n\r\n      const response = await axiosJWT.get(\r\n        `https://desolate-lake-70726.herokuapp.com/${auth.id}/${payload.id}`,\r\n        {\r\n          headers: { authorization: `Bearer ${accessToken}` },\r\n        }\r\n      );\r\n      const currentGoal = response.data;\r\n      return { currentGoal };\r\n    } catch (err) {\r\n      if (err.response.status === 404) {\r\n        const currentGoal = {};\r\n        return { currentGoal };\r\n      }\r\n      if (err.response?.status === 401) {\r\n        return Promise.reject(err);\r\n      } else if (err.request) {\r\n        console.log(\"There was a problem connecting to the server.\");\r\n      } else {\r\n        console.log(\"Error\", err);\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  goalList: {\r\n    data: [],\r\n    status: \"\",\r\n  },\r\n  // goalList: [],\r\n  currentGoal: {},\r\n  currentGoalStatus: \"pending\",\r\n  fetchStatus: \"\",\r\n  addStatus: \"\",\r\n  error: \"\",\r\n};\r\n\r\nexport const goalSlice = createSlice({\r\n  name: \"goals\",\r\n  initialState,\r\n  reducers: {\r\n    //updateGoalName: => receive goalid, update goalname of that goalid\r\n    //updateGoalImage: => receive goalid, update goalname of that goalid\r\n    //addblockers => receive goalid, add new blocker\r\n    updateBlockers: (state, { payload }) => {\r\n      state.currentGoal.blockers = payload.blockers;\r\n    },\r\n    updatePresetMin: (state, { payload }) => {\r\n      state.currentGoal.preset_min = payload.presetMin;\r\n    },\r\n    toggleIsRandom: (state, { payload }) => {\r\n      state.currentGoal.is_random = payload.isRandom;\r\n    },\r\n    updateIsDone: (state, { payload }) => {\r\n      state.currentGoal.is_done = payload.isDone;\r\n\r\n      // if (payload.isDone) {\r\n      //   state.currentGoal.date_finished = new Date();\r\n      // } else {\r\n      //   state.currentGoal.date_finished = null;\r\n      // }\r\n    },\r\n\r\n    updateCurrentGoal: (state, { payload }) => {\r\n      state.currentGoal = payload.currentGoal;\r\n    },\r\n    changeImageUrl: (state, { payload }) => {\r\n      state.goalList.data = state.goalList.data.map((goal) => {\r\n        if (goal.id === payload.id) {\r\n          goal.image_url = payload.goalImage;\r\n        }\r\n        return goal;\r\n      });\r\n      // state.currentGoal.image_url = payload.goalImage;\r\n    },\r\n\r\n    resetCurrentGoal: (state, { payload }) => {\r\n      state.currentGoal = {};\r\n    },\r\n    resetCurrentGoalStatus: (state, { payload }) => {\r\n      state.currentGoalStatus = \"pending\";\r\n    },\r\n    updateError: (state, { payload }) => {\r\n      state.error = payload;\r\n    },\r\n    //toggleisDone => receive goalid, update isDone of that goalid\r\n  },\r\n  extraReducers: {\r\n    [getGoalListAsync.fulfilled]: (state, { payload }) => {\r\n      state.goalList.data = payload.goalList;\r\n      state.goalList.status = \"fulfilled\";\r\n    },\r\n    [getGoalListAsync.pending]: (state, { payload }) => {\r\n      state.goalList.status = \"pending\";\r\n      state.fetchStatus = \"pending\";\r\n    },\r\n    [getGoalListAsync.rejected]: (state, { payload }) => {\r\n      state.error = \"Invalid token\";\r\n    },\r\n    [addGoalAsync.fulfilled]: (state, { payload }) => {\r\n      state.goalList.data.unshift(payload.goal);\r\n      state.addStatus = \"fulfilled\";\r\n    },\r\n    [addGoalAsync.pending]: (state, { payload }) => {\r\n      state.addStatus = \"pending\";\r\n    },\r\n    [addGoalAsync.rejected]: (state, { payload }) => {\r\n      state.error = \"Invalid token\";\r\n    },\r\n    [deleteGoalAsync.fulfilled]: (state, { payload }) => {\r\n      state.goalList.data = state.goalList.data.filter(\r\n        (goal) => goal.id !== payload.goalToDelete.id\r\n      );\r\n    },\r\n    [deleteGoalAsync.pending]: (state, { payload }) => {\r\n      console.log(\"deleting...\");\r\n    },\r\n    [deleteGoalAsync.rejected]: (state, { payload }) => {\r\n      state.error = \"Invalid token\";\r\n    },\r\n    [saveSettingsAsync.fulfilled]: (state, { payload }) => {\r\n      const index = state.goalList.data.findIndex(\r\n        (goal) => goal.id === payload.goalToUpdate.id\r\n      );\r\n      state.goalList.data[index] = payload.goalToUpdate;\r\n    },\r\n    [saveSettingsAsync.pending]: (state, { payload }) => {\r\n      // state.addStatus = \"pending\";\r\n\r\n      console.log(\"saving...\");\r\n    },\r\n    [saveSettingsAsync.rejected]: (state, { payload }) => {\r\n      state.error = \"Invalid token\";\r\n    },\r\n    [getCurrentGoalAsync.pending]: (state, { payload }) => {\r\n      // state.addStatus = \"pending\";\r\n      state.currentGoalStatus = \"pending\";\r\n      console.log(\"getting current goal...\");\r\n    },\r\n    [getCurrentGoalAsync.fulfilled]: (state, { payload }) => {\r\n      if (Object.keys(payload.currentGoal).length) {\r\n        state.currentGoal = payload.currentGoal;\r\n        state.currentGoalStatus = \"fulfilled\";\r\n      } else {\r\n        state.currentGoalStatus = \"not found\";\r\n      }\r\n    },\r\n    [getCurrentGoalAsync.rejected]: (state, { payload }) => {\r\n      state.currentGoalStatus = \"rejected\";\r\n      state.error = \"Invalid token\";\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n  addGoal,\r\n  updateBlockers,\r\n  toggleIsRandom,\r\n  updateIsDone,\r\n  updatePresetMin,\r\n  deleteGoal,\r\n  updateCurrentGoal,\r\n  changeImageUrl,\r\n  resetCurrentGoal,\r\n  resetCurrentGoalStatus,\r\n  updateError,\r\n} = goalSlice.actions;\r\n\r\nexport default goalSlice.reducer;\r\n","import { Button } from \"@mui/material\";\r\nimport React, { useEffect } from \"react\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\nimport { Box } from \"@mui/system\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport {\r\n  resetTimerState,\r\n  toggleIsActive,\r\n  toggleIsSessionDone,\r\n  updateMinutes,\r\n  updateSeconds,\r\n} from \"../features/timerSlice\";\r\n\r\nimport {\r\n  saveSettingsAsync,\r\n  updateBlockers,\r\n  updateIsDone,\r\n} from \"../features/goalSlice\";\r\n\r\nconst DisplayTimer = ({ currentGoal, goalIdParam }) => {\r\n  console.log(\"DisplayTimer.js\");\r\n\r\n  const { blockers, is_random: isRandom, preset_min: presetMin } = currentGoal;\r\n  //Local state\r\n\r\n  //Selectors\r\n  const { minutes, seconds, isActive, isSessionDone } = useSelector(\r\n    (state) => state.timerState\r\n  );\r\n\r\n  const { isDone } = useSelector((state) => state.displayGridState);\r\n\r\n  //Dispatch\r\n  const dispatch = useDispatch();\r\n  const _updateMinutes = (min) => dispatch(updateMinutes(min));\r\n  const _updateSeconds = (sec) => dispatch(updateSeconds(sec));\r\n  const _toggleIsActive = (bool) => dispatch(toggleIsActive(bool));\r\n  const _toggleIsSessionDone = (bool) => dispatch(toggleIsSessionDone(bool));\r\n  const _updateBlockers = (payload) => dispatch(updateBlockers(payload));\r\n  const _updateIsDone = (payload) => dispatch(updateIsDone(payload));\r\n\r\n  //Handlers\r\n\r\n  //Simulate reveal TODO:To be deleted\r\n  const handleReveal = () => {\r\n    // dispatch(updateMinutes(0));\r\n    // dispatch(updateSeconds(5));\r\n    onReveal();\r\n    dispatch(toggleIsSessionDone(true));\r\n  };\r\n  // wrap in useCallback to include in useeffect dependency?\r\n  //can i move this out of this component?\r\n  const onReveal = () => {\r\n    const reveal = blockers.map((blocker) => blocker.reveal);\r\n\r\n    if (isRandom) {\r\n      //Random reveal\r\n      const unrevealed = reveal.reduce((arr, item, i) => {\r\n        if (item === false) {\r\n          arr.push(i);\r\n        }\r\n        return arr;\r\n      }, []);\r\n\r\n      const randomIndex = Math.floor(Math.random() * unrevealed.length);\r\n\r\n      //Move this to the reducer instead, passthe required index as payload\r\n      //random: unrevealed[randomIndex], normal: reveal.indexOf(false)\r\n      _updateBlockers({\r\n        id: goalIdParam,\r\n        blockers: blockers.map((blocker, i) =>\r\n          i === unrevealed[randomIndex] ? { ...blocker, reveal: true } : blocker\r\n        ),\r\n      });\r\n    } else {\r\n      //Normal reveal\r\n      _updateBlockers({\r\n        id: goalIdParam,\r\n        blockers: blockers.map((blocker, i) =>\r\n          i === reveal.indexOf(false) ? { ...blocker, reveal: true } : blocker\r\n        ),\r\n      });\r\n    }\r\n  };\r\n\r\n  //Vars\r\n  const timerMinutes = minutes < 10 ? `0${minutes}` : minutes;\r\n  const timerSeconds = seconds < 10 ? `0${seconds}` : seconds;\r\n\r\n  useEffect(() => {\r\n    document.title =\r\n      isSessionDone || !isActive\r\n        ? \"Picmodoro\"\r\n        : `Picmodoro (${timerMinutes}:${timerSeconds})`;\r\n  }, [timerMinutes, timerSeconds, isSessionDone, isActive]);\r\n\r\n  //Countdown Timer -> This also should be triggered by onClick, not by useEffect\r\n  useEffect(() => {\r\n    let interval = null;\r\n\r\n    let start = new Date();\r\n    start.setSeconds(start.getSeconds() + presetMin * 60 + 1);\r\n\r\n    if (isActive) {\r\n      interval = setInterval(() => {\r\n        let current = new Date().getTime();\r\n        let distance = start - current;\r\n\r\n        let s = Math.floor((distance % (1000 * 60)) / 1000);\r\n        let m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));\r\n\r\n        // _updateMinutes(m);\r\n        // _updateSeconds(s);\r\n        dispatch(updateMinutes(m));\r\n        dispatch(updateSeconds(s));\r\n\r\n        if (distance < 0) {\r\n          // _toggleIsActive(false);\r\n          dispatch(toggleIsActive(false));\r\n          onReveal();\r\n          dispatch(toggleIsSessionDone(true));\r\n          // _toggleIsSessionDone(true);\r\n        }\r\n      }, 100);\r\n    } else {\r\n      clearInterval(interval);\r\n    }\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [isActive, presetMin, dispatch]); //too many dependencies\r\n\r\n  //Save to database when session ended\r\n  useEffect(() => {\r\n    dispatch(\r\n      saveSettingsAsync({ currentGoal: currentGoal, id: currentGoal.id })\r\n    );\r\n  }, [isSessionDone, isDone]);\r\n\r\n  //Save to database when all are revealed (isdone)\r\n  useEffect(() => {\r\n    dispatch(\r\n      _updateIsDone({\r\n        id: goalIdParam,\r\n        isDone: isDone,\r\n      })\r\n    );\r\n  }, [isDone]);\r\n\r\n  //Reset on component did mount\r\n  useEffect(() => {\r\n    dispatch(resetTimerState());\r\n    _updateMinutes(presetMin);\r\n  }, [dispatch]);\r\n  //if timer is active, discard\r\n  //if timer is not active && issessiondone, reset\r\n  //if timer is not active && isDone congrats\r\n  //if timer is not active, start\r\n\r\n  return (\r\n    <Box>\r\n      <button\r\n        style={{\r\n          position: \"absolute\",\r\n          top: \"50px\",\r\n          left: \"50%\",\r\n          transform: \"translateX(-50%)\",\r\n        }}\r\n        onClick={handleReveal}\r\n      >\r\n        Reveal\r\n      </button>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          // height: \"50px\",\r\n          color: \"rgba(0,0,0,0.87)\",\r\n          // backgroundColor: \"#2a5298\",\r\n          // width: \"140px\",\r\n          // height: \"140px\",\r\n          // borderRadius: \"100%\",\r\n          // padding: \"2rem\",\r\n\r\n          \"@media (min-width:580px)\": {\r\n            \"& > h1\": {\r\n              fontSize: \"3rem\",\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        {!isSessionDone ? (\r\n          <h1>\r\n            {timerMinutes}:{timerSeconds}\r\n          </h1>\r\n        ) : (\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              fontWeight: \"bolder\",\r\n            }}\r\n          >\r\n            Session finished{\" \"}\r\n            <CheckCircleIcon\r\n              sx={{ marginLeft: \"5px\" }}\r\n              color=\"success\"\r\n              fontSize=\"small\"\r\n            />\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      <TimerControls\r\n        isActive={isActive}\r\n        isSessionDone={isSessionDone}\r\n        setIsSessionDone={_toggleIsSessionDone}\r\n        isDone={isDone}\r\n        setMinutes={_updateMinutes}\r\n        setSeconds={_updateSeconds}\r\n        setIsActive={_toggleIsActive}\r\n        presetMin={presetMin}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst TimerControls = ({\r\n  isActive,\r\n  isSessionDone,\r\n  setIsSessionDone,\r\n  isDone,\r\n  setMinutes,\r\n  setSeconds,\r\n  setIsActive,\r\n  presetMin,\r\n}) => {\r\n  if (isActive) {\r\n    return (\r\n      <>\r\n        <Button\r\n          onClick={() => {\r\n            setMinutes(presetMin);\r\n            setSeconds(0);\r\n            setIsActive(false);\r\n          }}\r\n          variant=\"contained\"\r\n          color=\"error\"\r\n          size=\"small\"\r\n        >\r\n          Discard session\r\n        </Button>\r\n      </>\r\n    );\r\n  } else {\r\n    if (isSessionDone && !isDone) {\r\n      return (\r\n        <Button\r\n          disabled={isDone ? true : false}\r\n          style={{ display: \"block\", margin: \"0 auto\" }}\r\n          onClick={() => {\r\n            setMinutes(presetMin);\r\n            setSeconds(0);\r\n            setIsSessionDone(false);\r\n          }}\r\n          variant=\"contained\"\r\n          color=\"success\"\r\n          size=\"small\"\r\n        >\r\n          New Session\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    if (isDone) {\r\n      return (\r\n        <>\r\n          <h3 style={{ color: \"green\" }}>All Done. Congratulations!</h3>\r\n          <p style={{ fontSize: \"0.8rem\" }}>\r\n            (You can always add more sessions to this goal.)\r\n          </p>\r\n        </>\r\n      );\r\n    }\r\n\r\n    if (!isDone && !isSessionDone) {\r\n      return (\r\n        <Button\r\n          style={{\r\n            display: isDone || isSessionDone ? \"none\" : \"inline-block\",\r\n          }}\r\n          onClick={() => setIsActive(true)}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"small\"\r\n        >\r\n          Start timer\r\n        </Button>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default DisplayTimer;\r\n","import { styled } from \"@mui/system\";\r\n\r\n//try to use sx instead\r\nconst UpArrow = styled(\"div\")`\r\n  @keyframes uparrow {\r\n    0% {\r\n      -webkit-transform: translateY(0);\r\n      opacity: 0.4;\r\n    }\r\n    100% {\r\n      -webkit-transform: translateY(-0.4em);\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n  position: absolute;\r\n  top: -105px;\r\n  right: 27px;\r\n  border-color: transparent;\r\n  border-style: solid;\r\n  border-width: 0 0.5rem;\r\n  display: ${({ guide }) => (guide ? \"block\" : \"none\")};\r\n  height: 0;\r\n  margin: 10em auto;\r\n  opacity: 0.4;\r\n  transform-origin: 50% 50%;\r\n  width: 0;\r\n\r\n  animation: uparrow 0.6s infinite alternate ease-in-out;\r\n  border-bottom: 0.8rem solid #4dc126;\r\n`;\r\n\r\nexport default UpArrow;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  // reveal: [false],\r\n  isDone: false,\r\n};\r\n\r\nexport const displayGridSlice = createSlice({\r\n  name: \"displayGrid\",\r\n  initialState,\r\n  reducers: {\r\n    // updateReveal: (state, { payload }) => {\r\n    //   state.reveal = payload;\r\n    // },\r\n    toggleIsDone: (state, { payload }) => {\r\n      state.isDone = payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { toggleIsDone } = displayGridSlice.actions;\r\n\r\nexport default displayGridSlice.reducer;\r\n","import { KeyboardArrowDown, KeyboardArrowUp } from \"@mui/icons-material\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  IconButton,\r\n  Switch,\r\n  Tooltip,\r\n} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  updateBlockers,\r\n  toggleIsRandom,\r\n  updatePresetMin,\r\n  saveSettingsAsync,\r\n} from \"../features/goalSlice\";\r\n\r\nimport { updateMinutes } from \"../features/timerSlice\";\r\n\r\nimport SettingsIcon from \"@mui/icons-material/Settings\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n//You can break this down again to minimize rerender on settings change\r\nconst GoalSettings = ({ setGuide, goalIdParam, currentGoal }) => {\r\n  // const { goalList } = useSelector((state) => state.goalState);\r\n\r\n  // const currentGoal = goalList.filter((goal) => {\r\n  //   return goal.id === goalIdParam;\r\n  // });\r\n\r\n  // const { isRandom, blockers, presetMin, isDone } = currentGoal[0];\r\n  const {\r\n    is_random: isRandom,\r\n    blockers,\r\n    preset_min: presetMin,\r\n    is_done: isDone,\r\n  } = currentGoal;\r\n\r\n  // const renderCount = useRef(0);\r\n  // renderCount.current += 1;\r\n  // console.log(\"Settings rendered:\", renderCount.current);\r\n  //where should guide state live\r\n  //Local state\r\n  const [open, setOpen] = useState(false);\r\n\r\n  //Selectors\r\n  // const { isRandom, blockers, presetMin } = useSelector(\r\n  //   (state) => state.settingsState\r\n  // );\r\n\r\n  // const { isDone } = useSelector((state) => state.displayGridState);\r\n\r\n  const { isActive } = useSelector((state) => state.timerState);\r\n\r\n  //Dispatch\r\n  const dispatch = useDispatch();\r\n  const _toggleIsRandom = (payload) => dispatch(toggleIsRandom(payload));\r\n\r\n  // const _updateBlockers = (blockers) => dispatch(updateBlockers(blockers));\r\n  const _updateBlockers = (payload) => dispatch(updateBlockers(payload));\r\n\r\n  const _updatePresetMin = (payload) => dispatch(updatePresetMin(payload));\r\n  // const _updatePresetMin = (payload) => console.log(payload);\r\n\r\n  //Handlers\r\n\r\n  const handleClose = () => {\r\n    dispatch(\r\n      saveSettingsAsync({ currentGoal: currentGoal, id: currentGoal.id })\r\n    ).catch(() => console.log(\"There was a problem connecting to the server.\"));\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleToggle = (e) => {\r\n    _toggleIsRandom({ id: goalIdParam, isRandom: e.target.checked }); //can you refactor this to !isRandom?\r\n  };\r\n\r\n  //you can just move the payload directly to the reducer instead, separate addBlockers, subtractBlockers\r\n  const onPlus = () => {\r\n    _updateBlockers({\r\n      id: goalIdParam,\r\n      blockers: [...blockers, { clickable: false, reveal: false }],\r\n    });\r\n    // _updateBlockers([...blockers, { clickable: false, reveal: false }]);\r\n  };\r\n\r\n  const onMinus = () => {\r\n    const reveal = blockers.map((blocker) => blocker.reveal);\r\n    const lastItemIndex = reveal.lastIndexOf(false);\r\n    _updateBlockers({\r\n      id: goalIdParam,\r\n      blockers: blockers.filter((blocker, i) => i !== lastItemIndex),\r\n    });\r\n  };\r\n\r\n  //useEffects\r\n  useEffect(() => {\r\n    // _updateMinutes(presetMin);\r\n    dispatch(updateMinutes(presetMin));\r\n  }, [presetMin, dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      {/* Icon Button*/}\r\n      <Box\r\n        sx={{\r\n          // marginLeft: \"auto\",\r\n          justifySelf: \"flex-end\",\r\n\r\n          // boxShadow: \"0 5px 5px rgba(0,0,0,0.5)\",\r\n          // borderRadius: \"100%\",\r\n          // backgroundColor: \"#fff\",\r\n        }}\r\n      >\r\n        <Tooltip title=\"Settings\">\r\n          <IconButton\r\n            sx={{ color: \"rgba(0,0,0,0.87)\" }}\r\n            disabled={isActive ? true : false}\r\n            onClick={() => {\r\n              setOpen(true);\r\n              setGuide(false);\r\n            }}\r\n            color=\"primary\"\r\n            aria-label=\"settings picture\"\r\n            component=\"span\"\r\n          >\r\n            <SettingsIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n\r\n      {/* Dialog */}\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <Box\r\n          sx={{\r\n            width: \"80vw\",\r\n            maxWidth: \"350px\",\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              bgcolor: \"#1976D2\",\r\n            }}\r\n          >\r\n            <DialogTitle sx={{ color: \"white\" }}>Goal Settings</DialogTitle>\r\n            <IconButton\r\n              sx={{ marginLeft: \"auto\", color: \"white\" }}\r\n              onClick={handleClose}\r\n              aria-label=\"close button\"\r\n              component=\"span\"\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>\r\n          </Box>\r\n          <Divider />\r\n\r\n          {/* Here */}\r\n          <DialogContent sx={{ textAlign: \"center\", padding: \"1rem\" }}>\r\n            {/* Random */}\r\n            <h5>Random Reveal</h5>\r\n            <Switch\r\n              checked={isRandom}\r\n              onChange={handleToggle}\r\n              color=\"primary\"\r\n            />\r\n\r\n            {/* Sessions */}\r\n            <h5>Sessions</h5>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <IconButton\r\n                color=\"primary\"\r\n                disabled={\r\n                  isDone || blockers.length === 1 || isActive ? true : false\r\n                }\r\n                onClick={onMinus}\r\n              >\r\n                <KeyboardArrowDown />\r\n              </IconButton>\r\n\r\n              <p style={{ margin: \"0 5px\" }}>{blockers.length}</p>\r\n              <IconButton\r\n                color=\"primary\"\r\n                disabled={isActive ? true : false}\r\n                onClick={onPlus}\r\n              >\r\n                <KeyboardArrowUp />\r\n              </IconButton>\r\n            </Box>\r\n\r\n            {/* Duration */}\r\n            <h5>Duration</h5>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <IconButton\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  _updatePresetMin({\r\n                    id: goalIdParam,\r\n                    presetMin: presetMin - 5,\r\n                  });\r\n                  // _updatePresetMin(presetMin - 5);\r\n                }}\r\n                disabled={presetMin === 25 ? true : false}\r\n              >\r\n                <KeyboardArrowDown />\r\n              </IconButton>\r\n\r\n              <Box>{presetMin}:00</Box>\r\n\r\n              <IconButton\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  _updatePresetMin({\r\n                    id: goalIdParam,\r\n                    presetMin: presetMin + 5,\r\n                  });\r\n                  // _updatePresetMin(presetMin + 5);\r\n                }}\r\n              >\r\n                <KeyboardArrowUp />\r\n              </IconButton>\r\n            </Box>\r\n          </DialogContent>\r\n          <Divider />\r\n          {/* <DialogActions sx={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <Button\r\n              startIcon={<Save />}\r\n              variant=\"contained\"\r\n              color=\"error\"\r\n              onClick={handleSave}\r\n            >\r\n              Save\r\n            </Button>\r\n          </DialogActions> */}\r\n          {/* Here */}\r\n        </Box>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoalSettings;\r\n","import React from \"react\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport { Box } from \"@mui/system\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { IconButton, Tooltip } from \"@mui/material\";\r\nimport { useSelector } from \"react-redux\";\r\nconst BackButton = () => {\r\n  const navigate = useNavigate();\r\n  const { isActive } = useSelector((state) => state.timerState);\r\n  return (\r\n    <Box\r\n      sx={{\r\n        // marginRight: \"auto\",\r\n        justifySelf: \"flex-start\",\r\n        // boxShadow: \"0 5px 5px rgba(0,0,0,0.5)\",\r\n        borderRadius: \"100%\",\r\n        // backgroundColor: \"#fff\",\r\n      }}\r\n    >\r\n      <Tooltip title=\"Back to dashboard\">\r\n        <IconButton\r\n          sx={{ color: \"rgba(0,0,0,0.87)\" }}\r\n          disabled={isActive ? true : false}\r\n          onClick={() => {\r\n            navigate(\"/dashboard\");\r\n          }}\r\n          color=\"primary\"\r\n          aria-label=\"back picture\"\r\n          component=\"span\"\r\n        >\r\n          <ArrowBackIcon />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BackButton;\r\n","import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Details from \"../components/Details\";\r\n\r\nimport { Backdrop, Box, CircularProgress } from \"@mui/material\";\r\n\r\nimport ImageGrid from \"../components/ImageGrid\";\r\n\r\nimport DisplayTimer from \"../components/DisplayTimer\";\r\nimport UpArrow from \"../components/UpArrow\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toggleIsDone } from \"../features/displayGridSlice\";\r\nimport GoalSettings from \"../components/GoalSettings\";\r\nimport BackButton from \"../components/BackButton\";\r\nimport { getCurrentGoalAsync } from \"../features/goalSlice\";\r\n\r\nconst Goal = () => {\r\n  console.log(\"Goal parent component\");\r\n  let urlParams = useParams();\r\n  const goalIdParam = urlParams.goalid;\r\n\r\n  //Fetch state from server\r\n  //  base on goalid, get state from redux for now base on goalid\r\n  // const { goalList } = useSelector((state) => state.goalState);\r\n\r\n  //can i pass this down as props?\r\n  //or useSelector each component and just props goalidparam\r\n  //should i put all the state in just one goalList array\r\n  // const currentGoal = goalList.find((goal) => {\r\n  //   return goal.id === goalIdParam;\r\n  // });\r\n\r\n  //Local state\r\n  //this should be included in redux\r\n  const [guide, setGuide] = useState(true);\r\n\r\n  //Selectors\r\n  // const { blockers } = useSelector((state) => state.settingsState);\r\n  //Dispatch\r\n  const dispatch = useDispatch();\r\n\r\n  //FIXME: Error on refresh, currentGoal is undefined\r\n  useEffect(() => {\r\n    //if accessToken is invalid, set userauthenticated to false => signin\r\n\r\n    dispatch(getCurrentGoalAsync({ id: goalIdParam })).catch(() =>\r\n      console.log(\"There was a problem connecting to the server\")\r\n    );\r\n  }, [dispatch, goalIdParam]);\r\n  const { currentGoal, currentGoalStatus } = useSelector(\r\n    (state) => state.goalState\r\n  );\r\n\r\n  const { blockers } = currentGoal;\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(currentGoal).length) {\r\n      if (blockers.length) {\r\n        const reveal = blockers.map((blocker) => blocker.reveal);\r\n        const totalReveal = reveal.filter((bool) => bool === true).length;\r\n        if (totalReveal === blockers.length) {\r\n          dispatch(toggleIsDone(true));\r\n          console.log(\"toggle done true\");\r\n        } else {\r\n          dispatch(toggleIsDone(false));\r\n        }\r\n\r\n        //Toggle arrow guide\r\n        if (blockers.length > 1) {\r\n          setGuide(false);\r\n        }\r\n      }\r\n    }\r\n  }, [blockers, dispatch, currentGoal]);\r\n\r\n  //Update if isDone\r\n  //Triggered when you change settings or when timer is finished\r\n  //you can just put this as a local state\r\n\r\n  if (currentGoalStatus === \"pending\") {\r\n    return (\r\n      <>\r\n        <Backdrop\r\n          sx={{\r\n            color: \"rgba(0,0,0,0.87)\",\r\n            zIndex: \"1250\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n          }}\r\n          open\r\n        >\r\n          <h2>Loading goal...</h2>\r\n          <br />\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n      </>\r\n    );\r\n  }\r\n\r\n  if (currentGoalStatus === \"not found\") {\r\n    return (\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          color: \"#fff\",\r\n          height: \"100%\",\r\n        }}\r\n      >\r\n        <h3>Goal not found</h3>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  //can omit if statement for fulfilled\r\n  if (currentGoalStatus === \"fulfilled\") {\r\n    return (\r\n      <Box>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            textAlign: \"center\",\r\n            width: \"100%\",\r\n            position: \"relative\",\r\n            height: \"75px\",\r\n            color: \"#1e3c72\",\r\n            padding: \"15px\",\r\n            borderBottom: \"1px solid rgba(0,0,0,0.87)\",\r\n          }}\r\n        >\r\n          <BackButton />\r\n          <Details currentGoal={currentGoal} />\r\n          <GoalSettings\r\n            setGuide={setGuide}\r\n            currentGoal={currentGoal}\r\n            goalIdParam={goalIdParam}\r\n          />\r\n          <UpArrow guide={guide ? 1 : 0} />\r\n        </Box>\r\n        <Box\r\n          sx={{\r\n            height: \"calc(100vh - 147px)\",\r\n            overflow: \"auto\",\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              height: \"100%\",\r\n              minHeight: \"300px\",\r\n              textAlign: \"center\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"space-evenly\",\r\n\r\n              \"@media (min-width:580px)\": {\r\n                minHeight: \"450px\",\r\n              },\r\n            }}\r\n          >\r\n            {/* TODO: Move this logic to imagegrid */}\r\n            <Box>\r\n              <ImageGrid currentGoal={currentGoal} />\r\n            </Box>\r\n            <Box\r\n            // sx={{\r\n            //   padding: \"0.5rem 3rem\",\r\n            //   border: \"1px solid rgba(0,0,0,0.87)\",\r\n            //   // borderRadius: \"10px\",\r\n            //   width: \"476px\",\r\n            // }}\r\n            >\r\n              <DisplayTimer\r\n                currentGoal={currentGoal}\r\n                goalIdParam={goalIdParam}\r\n              />\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    );\r\n  }\r\n  //Fix this, nothing is returned if it doesn't match any currentgoalstatus\r\n  return <h1>Loading</h1>;\r\n};\r\n\r\nexport default Goal;\r\n","export default \"data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//2Q==\"","//if screenstate is 1 do code below\r\n\r\nimport placeholder from \"../assets/placeholder.jpg\";\r\n\r\nexport const prevImg =\r\n  JSON.parse(localStorage.getItem(\"imgFile\")) || placeholder;\r\nexport const prevScreen = JSON.parse(localStorage.getItem(\"screenState\")) || 0;\r\nexport const prevName = JSON.parse(localStorage.getItem(\"goalName\")) || \"\";\r\n\r\nexport const prevGoalList = JSON.parse(localStorage.getItem(\"goalList\")) || [];\r\nexport const prevAuth = JSON.parse(localStorage.getItem(\"auth\")) || {};\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { prevAuth } from \"../utils/getLocalStorage\";\r\n\r\nconst initialState = {\r\n  //currentUser:{},\r\n  //error:\"\",\r\n  //isUserAuthenticated:false,\r\n  //loading: false\r\n\r\n  id: prevAuth.id,\r\n  name: prevAuth.name,\r\n  email: prevAuth.email,\r\n  isUserAuthenticated: prevAuth.isUserAuthenticated,\r\n};\r\n\r\nexport const authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    updateUser: (state, { payload }) => {\r\n      state.id = payload.id;\r\n      state.name = payload.name;\r\n      state.email = payload.email;\r\n      state.isUserAuthenticated = payload.isUserAuthenticated;\r\n    },\r\n    updateIsUserAuthenticated: (state, { payload }) => {\r\n      state.isUserAuthenticated = payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { updateUser, updateIsUserAuthenticated } = authSlice.actions;\r\n\r\nexport default authSlice.reducer;\r\n","export default __webpack_public_path__ + \"static/media/pomodoro.e1763d73.png\";","import React from \"react\";\r\nimport { Box } from \"@mui/material\";\r\nimport pomodoro from \"../../assets/pomodoro.png\";\r\nconst Logo = () => {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        textShadow: \"2px 2px #000\",\r\n        fontSize: \"2rem\",\r\n        fontWeight: \"bolder\",\r\n        fontFamily: \"'Righteous', cursive\",\r\n        color: \"#fff\",\r\n      }}\r\n    >\r\n      PICMODOR\r\n      <Box sx={{ width: \"40px\" }} component=\"img\" src={pomodoro} alt=\"\" />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import { TextField, Button, Typography, Snackbar, Alert } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\r\nimport { updateUser } from \"../features/authSlice\";\r\nimport Logo from \"./_shared/Logo\";\r\n\r\nconst SignInForm = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n\r\n  const [openSnackbar, setOpenSnackbar] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleTest = (e) => {\r\n    e.preventDefault();\r\n    // dispatch(\r\n    //   updateUser({\r\n    //     id: 1,\r\n    //     name: \"Tester\",\r\n    //     email: \"tester@gmail.com\",\r\n    //     isUserAuthenticated: true,\r\n    //   })\r\n    // );\r\n    // navigate(\"/dashboard\");\r\n    // setEmail(\"tester@test.com\");\r\n    // setPassword(\"tester\");\r\n    // handleSignIn(e);\r\n  };\r\n\r\n  const handleSignIn = (e, type) => {\r\n    e.preventDefault();\r\n\r\n    const signIn = async () => {\r\n      try {\r\n        const res = await fetch(\r\n          \"https://desolate-lake-70726.herokuapp.com/signin\",\r\n          {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              email: inputEmail,\r\n              password: inputPassword,\r\n            }),\r\n          }\r\n        );\r\n\r\n        if (res.ok) {\r\n          const { user, accessToken, refreshToken } = await res.json();\r\n          setError(false);\r\n          dispatch(\r\n            updateUser({\r\n              id: user.id,\r\n              name: user.name,\r\n              email: user.email,\r\n              isUserAuthenticated: true,\r\n            })\r\n          );\r\n          localStorage.accessToken = JSON.stringify(accessToken);\r\n          localStorage.refreshToken = JSON.stringify(refreshToken);\r\n          // console.log(\"TOKENS IN SIGNIN\", accessToken, refreshToken);\r\n          //Redirect to dashboard\r\n          // navigate(from, { replace: true });\r\n          navigate(\"/dashboard\");\r\n        } else {\r\n          // alert(await res.json());\r\n          setError(true);\r\n        }\r\n      } catch {\r\n        alert(\"There was a problem connecting to the server.\");\r\n        return;\r\n      }\r\n    };\r\n\r\n    let inputEmail, inputPassword;\r\n    if (type === \"user\") {\r\n      inputEmail = email;\r\n      inputPassword = password;\r\n      signIn();\r\n    } else {\r\n      setError(false);\r\n      inputEmail = \"awesometester@test.com\";\r\n      inputPassword = \"tester\";\r\n      setEmail(inputEmail);\r\n      setPassword(inputPassword);\r\n      setOpenSnackbar(true);\r\n      setTimeout(() => {\r\n        signIn();\r\n      }, 2000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"2rem\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        width: \"100%\",\r\n        height: \"100vh\",\r\n        minHeight: \"520px\",\r\n\r\n        backgroundImage:\r\n          \"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)\",\r\n\r\n        \"@media (min-width:950px)\": {\r\n          flexDirection: \"row\",\r\n          minHeight: \"400px\",\r\n        },\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          width: \"320px\",\r\n          gap: \"20px\",\r\n          alignItems: \"center\",\r\n\r\n          \"& h6\": {\r\n            textAlign: \"center\",\r\n          },\r\n\r\n          \"@media (min-width: 950px)\": {\r\n            width: \"30rem\",\r\n            alignItems: \"flex-start\",\r\n\r\n            \"& h6\": {\r\n              textAlign: \"left\",\r\n            },\r\n          },\r\n        }}\r\n      >\r\n        <Logo />\r\n        <Typography variant=\"h6\" sx={{ color: \"#e5e5e5\" }}>\r\n          Be inspired with your goals and be productive with Picmodoro.\r\n        </Typography>\r\n      </Box>\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          width: \"90%\",\r\n          maxWidth: \"400px\",\r\n          backgroundColor: \"#fff\",\r\n          boxShadow: \"0 10px 15px rgba(0,0,0,0.5)\",\r\n          padding: \"2rem\",\r\n          borderRadius: \"10px\",\r\n\r\n          \"@media (min-width:950px)\": {\r\n            // width: \"400px\",\r\n          },\r\n        }}\r\n      >\r\n        <h2 style={{ textAlign: \"center\", color: \"#1976D2\" }}>Sign In</h2>\r\n        {error && (\r\n          <Box\r\n            style={{\r\n              color: \"black\",\r\n              textAlign: \"center\",\r\n              padding: \"0.5rem\",\r\n              marginTop: \"1rem\",\r\n              border: \"solid 1px red\",\r\n              backgroundColor: \"seashell\",\r\n              fontSize: \"0.8rem\",\r\n            }}\r\n          >\r\n            Email and password combination is incorrect. Please try again.\r\n          </Box>\r\n        )}\r\n        <TextField\r\n          sx={{ marginTop: \"10px\" }}\r\n          fullWidth\r\n          label=\"Email address\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <TextField\r\n          sx={{ marginTop: \"10px\" }}\r\n          type=\"password\"\r\n          fullWidth\r\n          label=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        >\r\n          Password\r\n        </TextField>\r\n\r\n        <Button\r\n          sx={{ marginTop: \"1rem\" }}\r\n          to=\"/dashboard\"\r\n          variant=\"contained\"\r\n          component={RouterLink}\r\n          onClick={(e) => handleSignIn(e, \"user\")}\r\n        >\r\n          Sign In\r\n        </Button>\r\n        <Button\r\n          sx={{ marginTop: \"5px\" }}\r\n          to=\"/dashboard\"\r\n          variant=\"contained\"\r\n          color=\"warning\"\r\n          component={RouterLink}\r\n          onClick={(e) => handleSignIn(e, \"tester\")}\r\n        >\r\n          Test\r\n        </Button>\r\n        <p style={{ fontSize: \"0.8rem\", marginTop: \"10px\" }}>\r\n          Don't have an account?{\" \"}\r\n          <Box\r\n            sx={{\r\n              textDecoration: \"none\",\r\n              color: \"#1976D2\",\r\n              fontWeight: \"bolder\",\r\n            }}\r\n            component={RouterLink}\r\n            to=\"/register\"\r\n          >\r\n            REGISTER\r\n          </Box>\r\n        </p>\r\n      </Box>\r\n      <Snackbar\r\n        open={openSnackbar}\r\n        autoHideDuration={3000}\r\n        anchorOrigin={{ horizontal: \"center\", vertical: \"top\" }}\r\n        onClose={() => setOpenSnackbar(false)}\r\n      >\r\n        <Alert\r\n          // onClose={() => setOpenSnackbar(false)}\r\n          variant=\"filled\"\r\n          severity=\"success\"\r\n          sx={{ width: \"100%\" }}\r\n        >\r\n          Welcome and happy testing!\r\n        </Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SignInForm;\r\n","import React from \"react\";\r\nimport SignInForm from \"../components/SignInForm\";\r\n\r\nconst SignIn = () => {\r\n  return <SignInForm />;\r\n};\r\n\r\nexport default SignIn;\r\n","import { TextField, Button } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\r\nimport { updateUser } from \"../features/authSlice\";\r\n\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport * as yup from \"yup\";\r\n\r\n//Validation\r\nconst schema = yup.object({\r\n  name: yup.string().required(\"This field is required.\"),\r\n  email: yup\r\n    .string()\r\n    .email(\"Invalid email address.\")\r\n    .required(\"This field is required.\")\r\n    .test(\r\n      \"Unique Email\",\r\n      \"Email already in use.\", // <- key, message\r\n      async (email) => {\r\n        return new Promise(async (resolve, reject) => {\r\n          try {\r\n            const res = await fetch(\r\n              `https://desolate-lake-70726.herokuapp.com/check/${email}`\r\n            );\r\n            if (res.ok) {\r\n              resolve(true);\r\n            } else {\r\n              resolve(false);\r\n            }\r\n          } catch {\r\n            alert(\"There was a problem connecting to the server.\");\r\n            return;\r\n          }\r\n        });\r\n      }\r\n    ),\r\n  password: yup.string().required(\"This field is required.\"),\r\n  passwordConfirmation: yup\r\n    .string()\r\n    .test(\"passwords-match\", \"Passwords must match.\", function (value) {\r\n      return this.parent.password === value;\r\n    })\r\n    .required(\"This field is required.\"),\r\n});\r\n\r\nconst RegisterForm = () => {\r\n  const {\r\n    handleSubmit,\r\n    control,\r\n    formState: { errors },\r\n  } = useForm({\r\n    mode: \"onSubmit\",\r\n    resolver: yupResolver(schema),\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const onRegister = async (data) => {\r\n    if (data) {\r\n      const { name, email, password } = data;\r\n\r\n      try {\r\n        const res = await fetch(\r\n          \"https://desolate-lake-70726.herokuapp.com/register\",\r\n          {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              name,\r\n              email,\r\n              password,\r\n            }),\r\n          }\r\n        );\r\n\r\n        if (res.ok) {\r\n          const { user, refreshToken, accessToken } = await res.json();\r\n\r\n          dispatch(\r\n            updateUser({\r\n              id: user.id,\r\n              name: user.name,\r\n              email: user.email,\r\n              isUserAuthenticated: true,\r\n            })\r\n          );\r\n          // console.log(\"TOKENS\", accessToken, refreshToken);\r\n          localStorage.accessToken = JSON.stringify(accessToken);\r\n          localStorage.refreshToken = JSON.stringify(refreshToken);\r\n          navigate(\"/dashboard\");\r\n        }\r\n      } catch {\r\n        alert(\"There was a problem connecting to the server.\");\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        width: \"100%\",\r\n        height: \"100vh\",\r\n        minHeight: \"520px\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        backgroundImage:\r\n          \"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)\",\r\n      }}\r\n    >\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          width: \"90%\",\r\n          maxWidth: \"400px\",\r\n          backgroundColor: \"#fff\",\r\n          boxShadow: \"0 10px 15px rgba(0,0,0,0.5)\",\r\n          padding: \"2rem\",\r\n          borderRadius: \"10px\",\r\n        }}\r\n      >\r\n        <h2 style={{ textAlign: \"center\", color: \"#1976D2\" }}>Register</h2>\r\n\r\n        <form onSubmit={handleSubmit(onRegister)}>\r\n          <Controller\r\n            render={({ field }) => (\r\n              <TextField\r\n                {...field}\r\n                sx={{ marginTop: \"5px\" }}\r\n                fullWidth\r\n                id=\"outlined-error-helper-text\"\r\n                label=\"Name *\"\r\n                error={errors.name ? true : false}\r\n                helperText={errors.name?.message || \" \"}\r\n              />\r\n            )}\r\n            name=\"name\"\r\n            control={control}\r\n            defaultValue=\"\"\r\n            className=\"materialUIInput\"\r\n          />\r\n          <Controller\r\n            render={({ field }) => (\r\n              <TextField\r\n                {...field}\r\n                sx={{ marginTop: \"5px\" }}\r\n                fullWidth\r\n                id=\"outlined-error-helper-text\"\r\n                label=\"Email address *\"\r\n                error={errors.email ? true : false}\r\n                helperText={errors.email?.message || \" \"}\r\n              />\r\n            )}\r\n            name=\"email\"\r\n            control={control}\r\n            defaultValue=\"\"\r\n            className=\"materialUIInput\"\r\n          />\r\n          <Controller\r\n            render={({ field }) => (\r\n              <TextField\r\n                {...field}\r\n                sx={{ marginTop: \"5px\" }}\r\n                fullWidth\r\n                type=\"password\"\r\n                id=\"outlined-error-helper-text\"\r\n                label=\"Password *\"\r\n                error={errors.password ? true : false}\r\n                helperText={errors.password?.message || \" \"}\r\n              />\r\n            )}\r\n            name=\"password\"\r\n            control={control}\r\n            defaultValue=\"\"\r\n            className=\"materialUIInput\"\r\n          />\r\n          <Controller\r\n            render={({ field }) => (\r\n              <TextField\r\n                {...field}\r\n                sx={{ marginTop: \"5px\" }}\r\n                fullWidth\r\n                type=\"password\"\r\n                id=\"outlined-error-helper-text\"\r\n                label=\"Confirm password *\"\r\n                error={errors?.passwordConfirmation ? true : false}\r\n                helperText={errors.passwordConfirmation?.message || \" \"}\r\n              />\r\n            )}\r\n            name=\"passwordConfirmation\"\r\n            control={control}\r\n            defaultValue=\"\"\r\n            className=\"materialUIInput\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            sx={{ marginTop: \"0.2rem\", width: \"100%\" }}\r\n            // to=\"/dashboard\"\r\n            variant=\"contained\"\r\n            // component={RouterLink}\r\n            // onClick={onRegister}\r\n          >\r\n            Register\r\n          </Button>\r\n        </form>\r\n\r\n        <p style={{ fontSize: \"0.8rem\", marginTop: \"10px\" }}>\r\n          Already have an account?{\" \"}\r\n          <Box\r\n            sx={{\r\n              textDecoration: \"none\",\r\n              color: \"#1976D2\",\r\n              fontWeight: \"bolder\",\r\n            }}\r\n            component={RouterLink}\r\n            to=\"/signin\"\r\n          >\r\n            SIGN IN\r\n          </Box>\r\n        </p>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RegisterForm;\r\n","import { GlobalStyles } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\n\r\nconst globalStyles = (\r\n  <GlobalStyles\r\n    styles={{\r\n      \"*, *::before, *::after\": {\r\n        margin: 0,\r\n        padding: 0,\r\n        boxSizing: \"border-box\",\r\n      },\r\n      body: {\r\n        fontFamily: \"'Montserrat', sans-serif\",\r\n        minHeight: \"100vh\",\r\n        maxWidth: \"100%\",\r\n        backgroundColor: \"#e5e5e5\",\r\n        // overflow: \"hidden\",\r\n\r\n        // overflowY: \"scroll\",\r\n        // backgroundImage:\r\n        //   \"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)\",\r\n      },\r\n    }}\r\n  />\r\n);\r\n\r\nexport const Wrapper = (props) => {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      {props.children}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default globalStyles;\r\n","import React from \"react\";\r\nimport RegisterForm from \"../components/RegisterForm\";\r\nimport { Wrapper } from \"../utils/globalstyles\";\r\n\r\nconst Register = () => {\r\n  return (\r\n    <Wrapper>\r\n      <RegisterForm />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport placeholder from \"../assets/placeholder.jpg\";\r\nimport { Box } from \"@mui/system\";\r\nimport LoadingButton from \"@mui/lab/LoadingButton\";\r\n\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addGoalAsync } from \"../features/goalSlice\";\r\nimport {\r\n  Backdrop,\r\n  CircularProgress,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\n\r\nconst GoalSetup = () => {\r\n  console.log(\"Form.js\");\r\n  const [inputUrl, setInputUrl] = useState(\"\");\r\n  const [inputName, setInputName] = useState(\"\");\r\n  const [isImageValid, setIsImageValid] = useState(true);\r\n  const [imageError, setImageError] = useState(false);\r\n  const [nameError, setNameError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingButton, setLoadingButton] = useState(false);\r\n  const [openBackdrop, setOpenBackdrop] = useState(false);\r\n\r\n  //Selectors\r\n\r\n  //Dispatch\r\n  const dispatch = useDispatch();\r\n\r\n  //Refs\r\n  const nameFieldRef = useRef();\r\n  const imageFieldRef = useRef();\r\n\r\n  //Handlers\r\n  const nameHandler = (e) => {\r\n    // _updateGoalName(e.target.value); //state should update only onSubmit\r\n    setInputName(e.target.value);\r\n  };\r\n\r\n  let navigate = useNavigate();\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!isImageValid) {\r\n      setImageError(true);\r\n      imageFieldRef.current.focus();\r\n    }\r\n\r\n    if (!inputName.length) {\r\n      setNameError(true);\r\n      nameFieldRef.current.focus();\r\n    }\r\n\r\n    if (inputName.length && isImageValid) {\r\n      // _updateScreen(1);\r\n      //add new goal action\r\n      setLoadingButton(true);\r\n      setOpenBackdrop(true);\r\n\r\n      const id = uuidv4();\r\n\r\n      dispatch(\r\n        addGoalAsync({\r\n          // ownerId: ownerId,\r\n          id: id,\r\n          goalName: inputName,\r\n          goalImage: inputUrl,\r\n        })\r\n      )\r\n        .then(() => {\r\n          // console.log(\"Still triggered?\");\r\n          //this triggers an error when user is redirected to signin on invalid token\r\n          setTimeout(() => {\r\n            setOpenBackdrop(false);\r\n            navigate(`/${id}`);\r\n          }, 1000);\r\n        })\r\n        .catch(() =>\r\n          console.log(\"There was a problem connecting to the server\")\r\n        );\r\n\r\n      // if (status === \"fulfilled\") {\r\n      //   console.log(\"addstatus\", status);\r\n\r\n      //   navigate(`/${id}`);\r\n      // }\r\n      // setTimeout(() => {\r\n      //   navigate(`/${id}`);\r\n      // }, 1000);\r\n\r\n      //navigate goal id if fulfilled\r\n    }\r\n  };\r\n\r\n  //ComponentDidUpdate\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const image = new Image();\r\n    image.src = inputUrl;\r\n    image.onload = function () {\r\n      //need to have spinner before this\r\n      if (this.width > 0) {\r\n        // _updateGoalImage(inputUrl); //state should update only onsubmit\r\n        setLoading(false);\r\n        // dispatch(updateGoalImage(inputUrl));\r\n        setIsImageValid(true);\r\n        setImageError(false);\r\n      }\r\n    };\r\n    image.onerror = function (e) {\r\n      console.log(\"error\", e);\r\n      // _updateGoalImage(placeholder);\r\n      setLoading(false);\r\n      // dispatch(updateGoalImage(placeholder));\r\n      setIsImageValid(false);\r\n    };\r\n\r\n    if (inputUrl.length) {\r\n      setImageError(false);\r\n    }\r\n  }, [inputUrl]);\r\n\r\n  useEffect(() => {\r\n    if (inputName.length) {\r\n      setNameError(false);\r\n    }\r\n  }, [inputName]);\r\n\r\n  return (\r\n    // <Box\r\n    //   sx={{\r\n    //     display: \"flex\",\r\n    //     flexDirection: \"column\",\r\n    //     justifyContent: \"center\",\r\n    //     alignItems: \"center\",\r\n    //     // width: \"calc(100vw - 2rem)\",\r\n    //     width: [\"350px\", \"450px\"],\r\n    //     // maxWidth: \"400px\",\r\n    //     // padding: \"0.5rem\",\r\n    //     // boxShadow: \"0 10px 15px rgba(0,0,0,0.5)\",\r\n    //     // boxShadow: 3, why is this not working\r\n    //     // borderRadius: \"20px\",\r\n    //     // marginTop: \"1rem\",\r\n    //     backgroundColor: \"#fff\",\r\n    //   }}\r\n    // >\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", width: \"100%\" }}>\r\n      {/* Input Name */}\r\n      <Typography variant=\"h6\">\r\n        <Box sx={{ color: \"#4EC127\", fontWeight: \"bolder\" }} component=\"span\">\r\n          Step 1:{\" \"}\r\n        </Box>\r\n        What is your goal?\r\n      </Typography>\r\n      <Box sx={{ width: \"100%\", alignSelf: \"center\", marginTop: \"5px\" }}>\r\n        <TextField\r\n          error={nameError ? true : false}\r\n          className=\"name-field\"\r\n          fullWidth\r\n          inputRef={nameFieldRef}\r\n          id=\"outlined-name\"\r\n          label=\"Enter goal name\"\r\n          value={inputName}\r\n          onChange={nameHandler}\r\n          helperText={\r\n            nameError\r\n              ? \"Please enter your goal name.\"\r\n              : \"Ex. Finish Atomic Habits book, Score A+ on Math\"\r\n          }\r\n        />\r\n      </Box>\r\n\r\n      {/* Upload Image */}\r\n      <Typography variant=\"h6\">\r\n        <Box sx={{ color: \"#4EC127\", fontWeight: \"bolder\" }} component=\"span\">\r\n          Step 2:{\" \"}\r\n        </Box>\r\n        What image will represent this goal?\r\n      </Typography>\r\n\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          marginTop: \"5px\",\r\n        }}\r\n      >\r\n        <TextField\r\n          sx={{ overflow: \"auto\" }}\r\n          error={imageError ? true : false}\r\n          className=\"name-field\" //can ommit this\r\n          fullWidth\r\n          id=\"outlined-error-helper-text\"\r\n          label=\"Enter image url\"\r\n          value={inputUrl}\r\n          onChange={(e) => setInputUrl(e.target.value)}\r\n          helperText={\r\n            imageError\r\n              ? \"Please enter a valid image url.\"\r\n              : \"Ex. https://source.unsplash.com/random/300x200\"\r\n          }\r\n          inputRef={imageFieldRef}\r\n        />\r\n        {!loading ? (\r\n          <Box\r\n            sx={{\r\n              border: \"solid 1px rgba(0,0,0,0.23)\",\r\n              width: \"100%\",\r\n              // maxHeight: \"300px\",\r\n            }}\r\n            component=\"img\"\r\n            src={isImageValid ? inputUrl : placeholder}\r\n            alt=\"\"\r\n          />\r\n        ) : (\r\n          <Box\r\n            sx={{\r\n              border: \"solid 1px rgba(0,0,0,0.23)\",\r\n              width: \"100%\",\r\n              height: \"200px\",\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <CircularProgress />\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      {/* Submit Button */}\r\n\r\n      <Typography variant=\"h6\">\r\n        <Box sx={{ color: \"#4EC127\", fontWeight: \"bolder\" }} component=\"span\">\r\n          Step 3:{\" \"}\r\n        </Box>\r\n        Submit and start!\r\n      </Typography>\r\n      <LoadingButton\r\n        loading={loading || loadingButton ? true : false}\r\n        // loadingPosition=\"start\"\r\n        sx={{ alignSelf: \"center\", width: \"40%\" }}\r\n        onClick={onSubmit}\r\n        variant=\"contained\"\r\n        component={RouterLink}\r\n        to={`/dashboard`} //! change to id\r\n      >\r\n        Submit\r\n      </LoadingButton>\r\n      <Backdrop\r\n        sx={{\r\n          color: \"#fff\",\r\n          zIndex: \"1250\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}\r\n        open={openBackdrop}\r\n        // onClick={handleClose}\r\n      >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n    </Box>\r\n    // </Box>\r\n  );\r\n};\r\n\r\nexport default GoalSetup;\r\n","import {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Divider,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useState } from \"react\";\r\nimport AddCircleIcon from \"@mui/icons-material/AddCircle\";\r\n\r\nimport GoalSetup from \"./GoalSetup\";\r\n\r\nconst AddGoalButton = () => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAdd = () => {\r\n    setOpen(true);\r\n  };\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          width: \"200px\",\r\n          height: \"220px\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          border: \"solid 1px rgba(0,0,0,0.87)\",\r\n          borderRadius: \"10px\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          gap: \"10px\",\r\n          fontWeight: \"bolder\",\r\n          fontSize: \"2rem\",\r\n          cursor: \"pointer\",\r\n\r\n          transition: \"all ease-in 200ms\",\r\n          backgroundColor: \"#e5e5e5\",\r\n          // color: \"#1e3c72\",\r\n          color: \"rgba(0,0,0,0.87)\",\r\n          \"&:hover\": { boxShadow: \"0 5px 10px rgba(0,0,0,0.5)\" },\r\n        }}\r\n        component=\"button\"\r\n        onClick={handleAdd}\r\n      >\r\n        <AddCircleIcon fontSize=\"1rem\" />\r\n        <Typography variant=\"body1\">Add New Goal</Typography>\r\n      </Box>\r\n      <Dialog\r\n        fullWidth\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle\r\n          sx={{ bgcolor: \"#1976D2\", color: \"#fff\" }}\r\n          id=\"alert-dialog-title\"\r\n        >\r\n          {\"Add New Goal\"}\r\n        </DialogTitle>\r\n        <Divider />\r\n        <DialogContent>\r\n          <GoalSetup />\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddGoalButton;\r\n","import { Box } from \"@mui/system\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport {\r\n  Backdrop,\r\n  Button,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Skeleton,\r\n  TextField,\r\n} from \"@mui/material\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deleteGoalAsync, saveSettingsAsync } from \"../features/goalSlice\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport LinkIcon from \"@mui/icons-material/Link\";\r\nimport placeholder from \"../assets/placeholder.jpg\";\r\n\r\nconst GoalCard = ({ id, goalName, goalImage, blockers, goal }) => {\r\n  const reveal = blockers.map((blocker) => blocker.reveal);\r\n  const totalReveal = reveal.filter((bool) => bool === true).length;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //preload image\r\n  //TODO: can pass this down as props? or use custom hooks\r\n  const [imagePreloaded, setImagePreloaded] = useState(false);\r\n  useEffect(() => {\r\n    const img = new Image();\r\n\r\n    img.onload = () => {\r\n      setImagePreloaded(true);\r\n    };\r\n\r\n    img.src = goal.image_url;\r\n  }, [goal]);\r\n\r\n  //Popover\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  //Backdrop\r\n  const [openBackdrop, setOpenBackdrop] = useState(false);\r\n\r\n  //Edit mode\r\n  const [renameMode, setRenameMode] = useState(false);\r\n\r\n  const [selectedGoal, setSelectedGoal] = useState(null);\r\n\r\n  //Name\r\n  const [name, setName] = useState(goalName);\r\n\r\n  //image url\r\n  const [inputURL, setInputURL] = useState(goalImage);\r\n  const [imgURL, setImgURL] = useState(goalImage);\r\n\r\n  //change image dialog\r\n  const [openChangeImage, setOpenChangeImage] = useState(false);\r\n\r\n  const handlePopOver = (e) => {\r\n    e.preventDefault();\r\n    setAnchorEl(e.currentTarget);\r\n    setSelectedGoal(goal);\r\n    // e.stopPropagation();\r\n  };\r\n\r\n  const handleClose = (e) => {\r\n    e.preventDefault();\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleDeleteOption = (e) => {\r\n    e.preventDefault();\r\n    setOpenBackdrop(true);\r\n    dispatch(deleteGoalAsync({ id: id }))\r\n      // .then(() => setOpenBackdrop(false))\r\n      .catch(() =>\r\n        console.log(\"There was a problem connecting to the server.\")\r\n      );\r\n  };\r\n\r\n  const renameRef = useRef();\r\n\r\n  const handleRenameOption = (e) => {\r\n    e.preventDefault();\r\n    setRenameMode(true);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleBlur = (e) => {\r\n    const inputName = e.target.value;\r\n    setRenameMode(false);\r\n    setName(inputName);\r\n    setSelectedGoal((prev) => {\r\n      return {\r\n        ...prev,\r\n        goal_name: inputName,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    const inputName = e.target.value;\r\n    if (e.keyCode === 13) {\r\n      setRenameMode(false);\r\n      setName(inputName);\r\n      setSelectedGoal((prev) => {\r\n        return {\r\n          ...prev,\r\n          goal_name: inputName,\r\n        };\r\n      });\r\n    }\r\n    if (e.keyCode === 27) {\r\n      setRenameMode(false);\r\n    }\r\n  };\r\n\r\n  //focus input\r\n  useEffect(() => {\r\n    if (renameMode) {\r\n      renameRef.current.focus();\r\n    }\r\n  }, [renameMode]);\r\n\r\n  const [urlError, setUrlError] = useState(false);\r\n  const [loadingImage, setLoadingImage] = useState(false);\r\n  const isImageValid = (url) => {\r\n    const img = new Image();\r\n\r\n    img.onload = () => {\r\n      setUrlError(false);\r\n      setLoadingImage(false);\r\n    };\r\n\r\n    img.onerror = () => {\r\n      setUrlError(true);\r\n    };\r\n    img.src = url;\r\n  };\r\n\r\n  const firstLoad = useRef(false);\r\n  useEffect(() => {\r\n    if (firstLoad.current === false) {\r\n      firstLoad.current = true;\r\n    } else {\r\n      setLoadingImage(true);\r\n      isImageValid(inputURL);\r\n    }\r\n  }, [inputURL]);\r\n\r\n  const handleChangeImageOption = (e) => {\r\n    e.preventDefault();\r\n    setInputURL(goalImage);\r\n    setUrlError(false);\r\n    setOpenChangeImage(true);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleSaveChangeImage = () => {\r\n    //TODO: if image is valid\r\n\r\n    if (!urlError) {\r\n      setImgURL(inputURL);\r\n      setSelectedGoal((prev) => {\r\n        return {\r\n          ...prev,\r\n          image_url: inputURL,\r\n        };\r\n      });\r\n\r\n      setOpenChangeImage(false);\r\n    }\r\n  };\r\n\r\n  //rerender when goal is included as dep because it always changes\r\n  useEffect(() => {\r\n    if (selectedGoal) {\r\n      if (\r\n        selectedGoal.image_url !== goalImage ||\r\n        selectedGoal.goal_name !== goalName\r\n      ) {\r\n        console.log(\"to save\", selectedGoal);\r\n        dispatch(\r\n          saveSettingsAsync({\r\n            currentGoal: selectedGoal,\r\n            id: selectedGoal.id,\r\n          })\r\n        );\r\n      }\r\n    }\r\n\r\n    // }\r\n  }, [dispatch, selectedGoal, goalImage, goalName]);\r\n\r\n  const open = Boolean(anchorEl);\r\n  const popOverId = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        width: \"200px\",\r\n        height: \"220px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        border: \"solid 1px rgba(0,0,0,0.87)\",\r\n        borderRadius: \"10px\",\r\n        overflow: \"hidden\",\r\n        textDecoration: \"none\",\r\n        transition: \"all ease-in 200ms\",\r\n\r\n        \"&:hover\": { boxShadow: \"0 3px 10px rgba(0,0,0,0.5)\" },\r\n      }}\r\n      component={RouterLink}\r\n      to={`/${id}`}\r\n    >\r\n      <>\r\n        {imagePreloaded ? (\r\n          <Box\r\n            sx={{\r\n              width: \"100%\",\r\n              // height: \"calc(100% - 65px)\",\r\n              height: \"100%\",\r\n              background: `url(${imgURL})`,\r\n              backgroundPosition: \"center\",\r\n              backgroundSize: \"cover\",\r\n            }}\r\n          />\r\n        ) : (\r\n          <Skeleton\r\n            variant=\"rectangular\"\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            animation=\"wave\"\r\n          />\r\n        )}\r\n\r\n        <Box\r\n          sx={{\r\n            color: \"rgba(0,0,0,0.87)\",\r\n            backgroundColor: \"#e5e5e5\",\r\n            width: \"100%\",\r\n            borderTop: \"1px solid rgba(0,0,0,0.87)\",\r\n            padding: \"0.7rem 1rem\",\r\n            // maxHeight: \"50px\",\r\n            minHeight: \"70px\",\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"space-around\",\r\n            alignItems: \"flex-start\",\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          {renameMode ? (\r\n            <input\r\n              style={{\r\n                width: \"150px\",\r\n                outline: \"none\",\r\n                fontWeight: \"bolder\",\r\n              }}\r\n              type=\"text\"\r\n              ref={renameRef}\r\n              defaultValue={name}\r\n              onClick={(e) => e.preventDefault()}\r\n              onBlur={handleBlur}\r\n              onKeyDown={handleKeyDown}\r\n            />\r\n          ) : (\r\n            <h5\r\n              style={{\r\n                maxWidth: \"150px\",\r\n              }}\r\n            >\r\n              {name}\r\n            </h5>\r\n          )}\r\n\r\n          <p style={{ fontSize: \"0.7rem\" }}>\r\n            Progress: {totalReveal}/{blockers.length}\r\n          </p>\r\n          <IconButton\r\n            sx={{\r\n              color: \"rgba(0,0,0,0.87)\",\r\n              position: \"absolute\",\r\n              top: \"50%\",\r\n              transform: \"translateY(-50%)\",\r\n              right: 0,\r\n              \"&:hover\": {\r\n                backgroundColor: \"rgba(0,0,0,0.2)\",\r\n              },\r\n            }}\r\n            onClick={handlePopOver}\r\n            // color=\"primary\"\r\n            aria-label=\"more options\"\r\n            component=\"span\"\r\n          >\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n          <Menu\r\n            id={popOverId}\r\n            open={open}\r\n            anchorEl={anchorEl}\r\n            onClose={handleClose}\r\n            anchorOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n            transformOrigin={{\r\n              vertical: \"top\",\r\n              horizontal: \"right\",\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                backgroundColor: \"#fff\",\r\n                fontSize: \"0.9rem\",\r\n                cursor: \"pointer\",\r\n                \"& li\": {\r\n                  display: \"flex\",\r\n                  gap: \"10px\",\r\n                  padding: \"1rem\",\r\n                },\r\n              }}\r\n            >\r\n              <MenuItem onClick={handleRenameOption}>\r\n                <EditIcon />\r\n                Edit goal name\r\n              </MenuItem>\r\n              <MenuItem onClick={handleChangeImageOption}>\r\n                <LinkIcon />\r\n                Change image URL\r\n              </MenuItem>\r\n              {/* <p>Change goal image</p> */}\r\n              <MenuItem onClick={handleDeleteOption}>\r\n                <DeleteIcon />\r\n                Delete\r\n              </MenuItem>\r\n            </Box>\r\n          </Menu>\r\n        </Box>\r\n      </>\r\n\r\n      {/* Change image dialog */}\r\n      <Dialog\r\n        open={openChangeImage}\r\n        onClose={(e) => {\r\n          // e.stopPropagation();\r\n          e.preventDefault();\r\n          setOpenChangeImage(false);\r\n        }}\r\n        // onBackdropClick={() => setOpenChangeImage(false)}\r\n        fullWidth\r\n      >\r\n        <Box onClick={(e) => e.preventDefault()}>\r\n          <DialogTitle sx={{ bgcolor: \"#1976D2\", color: \"white\" }}>\r\n            Change image URL\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Box\r\n              sx={{\r\n                marginTop: \"1.5rem\",\r\n              }}\r\n            >\r\n              <TextField\r\n                label=\"Goal Image URL\"\r\n                value={inputURL}\r\n                onChange={(e) => setInputURL(e.target.value)}\r\n                fullWidth\r\n                error={urlError}\r\n                helperText={\r\n                  urlError\r\n                    ? \"Please enter a valid image url.\"\r\n                    : \"Ex. https://source.unsplash.com/random/300x200\"\r\n                }\r\n              />\r\n            </Box>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setOpenChangeImage(false)}>Cancel</Button>\r\n            <Button\r\n              onClick={handleSaveChangeImage}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disabled={loadingImage ? true : false}\r\n            >\r\n              Save\r\n            </Button>\r\n          </DialogActions>\r\n        </Box>\r\n      </Dialog>\r\n\r\n      {/* Backdrop */}\r\n      <Backdrop\r\n        sx={{\r\n          color: \"#fff\",\r\n          zIndex: \"1250\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n        }}\r\n        open={openBackdrop}\r\n        // onClick={handleClose}\r\n      >\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default GoalCard;\r\n","import { CircularProgress, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport AddGoalButton from \"../components/AddGoalButton\";\r\nimport GoalCard from \"../components/GoalCard\";\r\nimport {\r\n  getGoalListAsync,\r\n  resetCurrentGoal,\r\n  resetCurrentGoalStatus,\r\n} from \"../features/goalSlice\";\r\n\r\nconst Dashboard = () => {\r\n  const { id } = useSelector((state) => state.authState);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    console.log(\"dashboard useeffect\");\r\n    dispatch(getGoalListAsync({ id: id })).catch((err) => {\r\n      //should catch be here? make a way so that undefined goallist will still run\r\n\r\n      console.log(\"There was an error\"); //the error here is that the goallist in goallistasync fulfilled is undefined\r\n    });\r\n    dispatch(resetCurrentGoal());\r\n    dispatch(resetCurrentGoalStatus());\r\n  }, [dispatch, id]);\r\n  const { goalList } = useSelector((state) => state.goalState);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        // justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        // padding: \"0.5rem\",\r\n        // marginTop: \"0.5rem\",\r\n        height: \"100%\",\r\n      }}\r\n    >\r\n      <Typography\r\n        variant=\"h6\"\r\n        fontWeight=\"800\"\r\n        sx={{\r\n          color: \"rgba(0,0,0,0.87)\",\r\n          width: \"100%\",\r\n          padding: \"0.5rem\",\r\n          borderBottom: \"1px solid rgba(0,0,0,0.87)\",\r\n          height: \"75px\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        Dashboard\r\n      </Typography>\r\n\r\n      <Box\r\n        sx={{\r\n          padding: \"1rem 1.5rem\",\r\n\r\n          height: \"calc(100vh - 147px)\",\r\n\r\n          width: \"100%\",\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"repeat(auto-fill, minmax(200px, 1fr))\",\r\n          justifyItems: \"center\",\r\n          gridGap: \"25px\",\r\n          overflowY: \"auto\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        {goalList.status === \"fulfilled\" ? (\r\n          <>\r\n            <AddGoalButton />\r\n            {goalList.data.map((goal) => {\r\n              return (\r\n                <GoalCard\r\n                  id={goal.id}\r\n                  goalName={goal.goal_name}\r\n                  goalImage={goal.image_url}\r\n                  blockers={goal.blockers}\r\n                  key={goal.id}\r\n                  goal={goal}\r\n                  // can just prop drill the currentgoal\r\n                />\r\n              );\r\n            })}\r\n          </>\r\n        ) : (\r\n          <CircularProgress\r\n            sx={{\r\n              position: \"absolute\",\r\n              top: \"calc((100% / 2) - 1rem)\",\r\n            }}\r\n          />\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        flexDirection: \"column\",\r\n        color: \"#fff\",\r\n      }}\r\n    >\r\n      <h1>404</h1>\r\n      <h3>Not Found</h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Box,\r\n  IconButton,\r\n  Typography,\r\n  useMediaQuery,\r\n  Menu,\r\n  MenuItem,\r\n} from \"@mui/material\";\r\nimport pomodoro from \"../../assets/pomodoro.png\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport ArrowDropDownIcon from \"@mui/icons-material/ArrowDropDown\";\r\nimport { updateUser } from \"../../features/authSlice\";\r\nimport Logo from \"./Logo\";\r\nimport LogoutIcon from \"@mui/icons-material/Logout\";\r\nimport HelpIcon from \"@mui/icons-material/Help\";\r\n\r\nconst Heading = () => {\r\n  const { name } = useSelector((state) => state.authState);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogout = async (e) => {\r\n    // e.preventDefault();\r\n    const refreshToken = JSON.parse(localStorage.getItem(\"refreshToken\"));\r\n    const response = await fetch(\r\n      \"https://desolate-lake-70726.herokuapp.com/logout\",\r\n      {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          token: refreshToken,\r\n        }),\r\n      }\r\n    );\r\n\r\n    if (response.ok) {\r\n      localStorage.removeItem(\"accessToken\");\r\n      localStorage.removeItem(\"refreshToken\");\r\n\r\n      setTimeout(() => {\r\n        dispatch(updateUser({ isUserAuthenticated: false }));\r\n        setAnchorEl(null);\r\n      }, 500);\r\n    }\r\n  };\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handlePopOver = (e) => {\r\n    // e.preventDefault();\r\n    setAnchorEl(e.currentTarget);\r\n  };\r\n\r\n  const handleClosePopOver = (e) => {\r\n    // e.preventDefault();\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const openPopOver = Boolean(anchorEl);\r\n  const popOverId = openPopOver ? \"simple-popover\" : undefined;\r\n\r\n  const largeScreen = useMediaQuery(\"(min-width:580px\");\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: \"flex\",\r\n        padding: \"1rem\",\r\n        // position: \"fixed\",\r\n        // top: 0,\r\n        width: \"100%\",\r\n        height: \"72px\",\r\n        color: \"#fff\",\r\n        boxShadow: \"0 2px 5px rgba(0,0,0,0.23)\",\r\n        backgroundImage:\r\n          \"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)\",\r\n      }}\r\n      // component={RouterLink}\r\n      //to=\"/\" dashboard for now\r\n      // to=\"/dashboard\"\r\n    >\r\n      <Box\r\n        sx={{ textDecoration: \"none\" }}\r\n        component={RouterLink}\r\n        to=\"/dashboard\"\r\n      >\r\n        {largeScreen ? (\r\n          <Logo />\r\n        ) : (\r\n          <Box sx={{ width: \"40px\" }} component=\"img\" src={pomodoro} alt=\"\" />\r\n        )}\r\n      </Box>\r\n      <Box\r\n        sx={{\r\n          marginLeft: \"auto\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        onClick={handlePopOver}\r\n      >\r\n        <Typography>{name}</Typography>\r\n        <IconButton sx={{ color: \"#fff\" }}>\r\n          <ArrowDropDownIcon />\r\n        </IconButton>\r\n      </Box>\r\n      <Menu\r\n        id={popOverId}\r\n        open={openPopOver}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClosePopOver}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n      >\r\n        <Box\r\n          sx={{\r\n            backgroundColor: \"#fff\",\r\n            fontSize: \"0.9rem\",\r\n            cursor: \"pointer\",\r\n\r\n            \"& li\": {\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              gap: \"10px\",\r\n              padding: \"1rem\",\r\n            },\r\n          }}\r\n        >\r\n          <MenuItem>\r\n            <HelpIcon />\r\n            Help\r\n          </MenuItem>\r\n          <MenuItem onClick={handleLogout}>\r\n            <LogoutIcon />\r\n            Logout\r\n          </MenuItem>\r\n        </Box>\r\n      </Menu>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Heading;\r\n","import { useSelector } from \"react-redux\";\r\nimport { Navigate, Outlet, useLocation } from \"react-router-dom\";\r\nimport Heading from \"../components/_shared/Heading\";\r\n\r\nconst PrivateRoutes = () => {\r\n  const location = useLocation();\r\n  const { isUserAuthenticated } = useSelector((state) => state.authState);\r\n\r\n  return isUserAuthenticated ? (\r\n    <>\r\n      <Heading />\r\n      <Outlet />\r\n    </>\r\n  ) : (\r\n    <Navigate to=\"/signin\" replace state={{ from: location }} />\r\n  );\r\n};\r\n\r\nexport default PrivateRoutes;\r\n","import { useSelector } from \"react-redux\";\r\nimport { Navigate, Outlet, useLocation } from \"react-router-dom\";\r\n\r\nconst PublicRoutes = () => {\r\n  const location = useLocation();\r\n  const { isUserAuthenticated } = useSelector((state) => state.authState);\r\n\r\n  return !isUserAuthenticated ? (\r\n    <Outlet />\r\n  ) : (\r\n    <Navigate to=\"/dashboard\" replace state={{ from: location }} />\r\n  );\r\n};\r\n\r\nexport default PublicRoutes;\r\n","import { useEffect } from \"react\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport Goal from \"./routes/goal\";\r\nimport { HashRouter, Routes, Route, Navigate } from \"react-router-dom\";\r\nimport SignIn from \"./routes/signin\";\r\nimport Register from \"./routes/register\";\r\nimport Dashboard from \"./routes/dashboard\";\r\nimport NotFound from \"./components/_shared/NotFound\";\r\nimport PrivateRoutes from \"./outlet/PrivateRoutes\";\r\nimport PublicRoutes from \"./outlet/PublicRoutes\";\r\n\r\nimport { updateUser } from \"./features/authSlice\";\r\nimport { updateError } from \"./features/goalSlice\";\r\nimport Footer from \"./components/_shared/Footer\";\r\n\r\nfunction App() {\r\n  //Selectors\r\n\r\n  const { goalList, error } = useSelector((state) => state.goalState);\r\n  const { id, name, email, isUserAuthenticated } = useSelector(\r\n    (state) => state.authState\r\n  );\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  //goallist localstorage might not be necessary\r\n  useEffect(() => {\r\n    localStorage.goalList = JSON.stringify(goalList.data);\r\n  }, [goalList.data]);\r\n\r\n  //should be refreshtoken\r\n  useEffect(() => {\r\n    localStorage.auth = JSON.stringify({\r\n      id,\r\n      name,\r\n      email,\r\n      isUserAuthenticated,\r\n    });\r\n  }, [id, name, email, isUserAuthenticated]);\r\n\r\n  useEffect(() => {\r\n    if (error === \"Invalid token\") {\r\n      localStorage.removeItem(\"accessToken\");\r\n      localStorage.removeItem(\"refreshToken\");\r\n      dispatch(updateError(\"\"));\r\n      setTimeout(() => {\r\n        dispatch(updateUser({ isUserAuthenticated: false }));\r\n      }, 500);\r\n      alert(\"Please relogin.\");\r\n    }\r\n  }, [dispatch, error]);\r\n\r\n  //change dashboard route to /:userid/dashboard\r\n  //change goal route to /:userid/:goalid\r\n  //!add browserrouter basename for github pages\r\n  return (\r\n    <>\r\n      <HashRouter basename=\"/picmodoro\">\r\n        {/* <BrowserRouter> */}\r\n        <Routes>\r\n          <Route\r\n            path=\"/\"\r\n            exact\r\n            element={\r\n              isUserAuthenticated ? <Navigate to=\"/dashboard\" /> : <SignIn />\r\n            }\r\n          />\r\n          <Route element={<PrivateRoutes />}>\r\n            <Route path=\"/dashboard\" element={<Dashboard />} />\r\n            <Route path=\"/:goalid\" element={<Goal />} />\r\n          </Route>\r\n\r\n          <Route element={<PublicRoutes />}>\r\n            <Route path=\"/signin\" element={<SignIn />} />\r\n            <Route path=\"/register\" element={<Register />} />\r\n          </Route>\r\n          <Route path=\"*\" element={<NotFound />} />\r\n        </Routes>\r\n        {/* <Footer /> */}\r\n      </HashRouter>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { prevScreen } from \"../utils/getLocalStorage\";\r\n\r\nconst initialState = {\r\n  value: prevScreen || 0,\r\n};\r\n\r\nexport const screenSlice = createSlice({\r\n  name: \"screen\",\r\n  initialState,\r\n  reducers: {\r\n    updateScreen: (state, { payload }) => {\r\n      state.value = payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { updateScreen } = screenSlice.actions;\r\n\r\nexport default screenSlice.reducer;\r\n","import { combineReducers } from \"redux\";\r\nimport goalReducer from \"./goalSlice\";\r\nimport screenReducer from \"./screenSlice\";\r\nimport timerReducer from \"./timerSlice\";\r\nimport displayGridReducer from \"./displayGridSlice\";\r\nimport userReducer from \"./authSlice\";\r\n\r\nconst rootReducer = combineReducers({\r\n  goalState: goalReducer,\r\n  authState: userReducer,\r\n  screenState: screenReducer,\r\n  timerState: timerReducer,\r\n  displayGridState: displayGridReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport rootReducer from \"../features\";\r\n\r\nexport default configureStore({\r\n  reducer: rootReducer,\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport globalStyles from \"./utils/globalstyles\";\r\n\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./app/store\";\r\n\r\nReactDOM.render(\r\n  <>\r\n    <Provider store={store}>\r\n      {globalStyles}\r\n      <App />\r\n    </Provider>\r\n  </>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}