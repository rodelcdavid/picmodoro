/*! For license information please see main.c81777d3.chunk.js.LICENSE.txt */
(this.webpackJsonppicmodoro=this.webpackJsonppicmodoro||[]).push([[0],{324:function(A,e,t){"use strict";t.r(e);var n,r=t(0),a=t(46),o=t.n(a),c=t(17),i=t(6),s=t(16),l=t(373),u=t(1),d=function(A){var e=A.currentGoal,t=e.goal_name,n=e.blockers,r=n.map((function(A){return A.reveal})).filter((function(A){return!0===A})).length;return console.log("Details Component"),Object(u.jsxs)(l.a,{sx:{color:"rgba(0,0,0,0.87)",justifySelf:"center","& h3":{fontSize:t.length>10?"1rem":"1.2rem"},"@media (min-width:580px)":{"& h3":{fontSize:"1.2rem"}}},children:[Object(u.jsx)("h3",{style:{},children:t}),Object(u.jsxs)("p",{style:{fontSize:"0.7rem",marginTop:"5px"},children:["Progress: ",r,"/",n.length]})]})},b=t(397),j=t(405),p=t(384),f=t(374),h=t(396),x=function(A){var e=A.currentGoal,t=e.image_url,n=e.blockers,a=Object(c.c)((function(A){return A.displayGridState})).isDone,o=Object(f.a)("(min-width:580px");console.log("Image Grid");var s=Object(r.useState)(!1),d=Object(i.a)(s,2),b=d[0],j=d[1];Object(r.useEffect)((function(){var A=new Image;console.log(e),A.onload=function(){j(!0)},A.src=e.image_url}),[e]);var p=Object(r.useCallback)((function(){return Object(u.jsx)(u.Fragment,{children:n.map((function(A,e){return Object(u.jsx)(l.a,{sx:{border:a?"none":"solid 1px rgba(0,0,0,0.6)",backgroundColor:A.reveal?"transparent":"#fff",cursor:A.clickable?"pointer":"default"}},e)}))})}),[n,a]),x=function(A,e){for(var t,n,r=e?476:280,a=e?340:200,o=10;o>1;o--){if(4===A){t=2,n=2;break}if(A%o===0&&A>=3*o){t=A/o,n=o;break}t=A,n=1}var c=r/t;return r/t%10!==0&&(c+=.04),{imgWidth:r,imgHeight:a,gridColumnSize:c,gridRowSize:a/n,gridColumn:t,gridRow:n}}(n.length,o),g=x.imgWidth,m=x.imgHeight,O=x.gridColumnSize,v=x.gridRowSize,S=x.gridColumn,y=x.gridRow;return Object(u.jsx)(l.a,{children:b?Object(u.jsx)(l.a,{style:{display:"grid",gridTemplateColumns:"repeat( ".concat(S,", ").concat(O,"px"),gridTemplateRows:"repeat( ".concat(y,", ").concat(v,"px )"),width:g,height:m,background:"url(".concat(t,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",border:"solid 1px rgba(0,0,0,0.6)",boxShadow:"0 5px 10px rgba(0,0,0,0.25)",overflow:"hidden",boxSizing:"content-box"},children:Object(u.jsx)(p,{})}):Object(u.jsx)(h.a,{sx:{backgroundColor:"#fff",border:"2px solid rgba(0,0,0,0.6)",boxShadow:"0 5px 10px rgba(0,0,0,0.25)",boxSizing:"content-box"},variant:"rectangular",width:g,height:m,animation:"wave"})})},g=t(23),m=t(398),O=t(158),v=t.n(O),S=t(27),y=Object(S.c)({name:"timer",initialState:{minutes:0,seconds:0,isActive:!1,isSessionDone:!1},reducers:{updateMinutes:function(A,e){var t=e.payload;A.minutes=t},updateSeconds:function(A,e){var t=e.payload;A.seconds=t},toggleIsActive:function(A,e){var t=e.payload;A.isActive=t},toggleIsSessionDone:function(A,e){var t=e.payload;A.isSessionDone=t},resetTimerState:function(A,e){e.payload;A.minutes=0,A.seconds=0,A.isActive=!1,A.isSessionDone=!1}}}),w=y.actions,k=w.updateMinutes,I=w.updateSeconds,T=w.toggleIsActive,C=w.toggleIsSessionDone,D=w.resetTimerState,E=y.reducer,G=t(3),z=t(14),N=t.n(z),U=t(20),R=t(111),B=t.n(R),P=t(157),M=B.a.create(),J=function(){var A=Object(U.a)(N.a.mark((function A(){var e,t;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,e=JSON.parse(localStorage.getItem("refreshToken")),A.next=4,B.a.post("https://desolate-lake-70726.herokuapp.com/refresh",{token:e});case 4:if(200!==(t=A.sent).status){A.next=9;break}return localStorage.accessToken=JSON.stringify(t.data.accessToken),localStorage.refreshToken=JSON.stringify(t.data.refreshToken),A.abrupt("return",t.data);case 9:A.next=14;break;case 11:A.prev=11,A.t0=A.catch(0),console.log(A.t0);case 14:case"end":return A.stop()}}),A,null,[[0,11]])})));return function(){return A.apply(this,arguments)}}();M.interceptors.request.use(function(){var A=Object(U.a)(N.a.mark((function A(e){var t,n,r;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(t=localStorage.getItem("accessToken"),n=new Date,!(1e3*Object(P.a)(t).exp<n.getTime())){A.next=8;break}return A.next=6,J();case 6:(r=A.sent)&&(e.headers.authorization="Bearer "+r.accessToken);case 8:return A.abrupt("return",e);case 9:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),(function(A){return Promise.reject(A)}));var Y,F=Object(S.b)("goals/getGoalListAsync",function(){var A=Object(U.a)(N.a.mark((function A(e){var t,n,r,a;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,t=JSON.parse(localStorage.getItem("accessToken")),A.next=4,M.get("https://desolate-lake-70726.herokuapp.com/".concat(e.id,"/goal-list"),{headers:{authorization:"Bearer ".concat(t)}});case 4:return n=A.sent,r=n.data,A.abrupt("return",{goalList:r});case 9:if(A.prev=9,A.t0=A.catch(0),401!==(null===(a=A.t0.response)||void 0===a?void 0:a.status)){A.next=15;break}return A.abrupt("return",Promise.reject(A.t0));case 15:A.t0.request?console.log("There was a problem connecting to the server."):console.log("Error",A.t0);case 16:case"end":return A.stop()}}),A,null,[[0,9]])})));return function(e){return A.apply(this,arguments)}}()),Q=Object(S.b)("goals/addGoalAsync",function(){var A=Object(U.a)(N.a.mark((function A(e){var t,n,r,a,o,c;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,t=JSON.parse(localStorage.getItem("accessToken")),n=JSON.parse(localStorage.getItem("auth")),r={goalName:e.goalName,goalImage:e.goalImage},A.next=6,M.post("https://desolate-lake-70726.herokuapp.com/".concat(n.id,"/").concat(e.id),r,{headers:{authorization:"Bearer "+t,"Content-Type":"application/json"}});case 6:return a=A.sent,o=a.data,A.abrupt("return",{goal:o});case 11:if(A.prev=11,A.t0=A.catch(0),401!==(null===(c=A.t0.response)||void 0===c?void 0:c.status)){A.next=17;break}return A.abrupt("return",Promise.reject(A.t0));case 17:A.t0.request?console.log("There was a problem connecting to the server."):console.log("Error");case 18:case"end":return A.stop()}}),A,null,[[0,11]])})));return function(e){return A.apply(this,arguments)}}()),L=Object(S.b)("goals/deleteGoalAsync",function(){var A=Object(U.a)(N.a.mark((function A(e){var t,n,r,a,o;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,t=JSON.parse(localStorage.getItem("accessToken")),n=JSON.parse(localStorage.getItem("auth")),A.next=5,M.delete("https://desolate-lake-70726.herokuapp.com/".concat(n.id,"/").concat(e.id),{headers:{authorization:"Bearer "+t}});case 5:return r=A.sent,a=r.data,A.abrupt("return",{goalToDelete:a});case 10:if(A.prev=10,A.t0=A.catch(0),401!==(null===(o=A.t0.response)||void 0===o?void 0:o.status)){A.next=16;break}return A.abrupt("return",Promise.reject(A.t0));case 16:A.t0.request?console.log("There was a problem connecting to the server."):console.log("Error");case 17:case"end":return A.stop()}}),A,null,[[0,10]])})));return function(e){return A.apply(this,arguments)}}()),W=Object(S.b)("goals/saveSettingsAsync",function(){var A=Object(U.a)(N.a.mark((function A(e){var t,n,r,a,o,c;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,t=JSON.parse(localStorage.getItem("accessToken")),n=JSON.parse(localStorage.getItem("auth")),r={currentGoal:e.currentGoal},A.next=6,M.patch("https://desolate-lake-70726.herokuapp.com/".concat(n.id,"/").concat(e.id),r,{headers:{authorization:"Bearer "+t,"Content-Type":"application/json"}});case 6:return a=A.sent,o=a.data,A.abrupt("return",{goalToUpdate:o});case 11:if(A.prev=11,A.t0=A.catch(0),401!==(null===(c=A.t0.response)||void 0===c?void 0:c.status)){A.next=17;break}return A.abrupt("return",Promise.reject(A.t0));case 17:A.t0.request?console.log("There was a problem connecting to the server."):console.log("Error");case 18:case"end":return A.stop()}}),A,null,[[0,11]])})));return function(e){return A.apply(this,arguments)}}()),q=Object(S.b)("goals/getCurrentGoalAsync",function(){var A=Object(U.a)(N.a.mark((function A(e){var t,n,r,a,o,c;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,t=JSON.parse(localStorage.getItem("accessToken")),n=JSON.parse(localStorage.getItem("auth")),A.next=5,M.get("https://desolate-lake-70726.herokuapp.com/".concat(n.id,"/").concat(e.id),{headers:{authorization:"Bearer ".concat(t)}});case 5:return r=A.sent,a=r.data,A.abrupt("return",{currentGoal:a});case 10:if(A.prev=10,A.t0=A.catch(0),404!==A.t0.response.status){A.next=15;break}return c={},A.abrupt("return",{currentGoal:c});case 15:if(401!==(null===(o=A.t0.response)||void 0===o?void 0:o.status)){A.next=19;break}return A.abrupt("return",Promise.reject(A.t0));case 19:A.t0.request?console.log("There was a problem connecting to the server."):console.log("Error",A.t0);case 20:case"end":return A.stop()}}),A,null,[[0,10]])})));return function(e){return A.apply(this,arguments)}}()),H=Object(S.c)({name:"goals",initialState:{goalList:{data:[],status:""},currentGoal:{},currentGoalStatus:"pending",fetchStatus:"",addStatus:"",error:""},reducers:{updateBlockers:function(A,e){var t=e.payload;A.currentGoal.blockers=t.blockers},updatePresetMin:function(A,e){var t=e.payload;A.currentGoal.preset_min=t.presetMin},toggleIsRandom:function(A,e){var t=e.payload;A.currentGoal.is_random=t.isRandom},updateIsDone:function(A,e){var t=e.payload;A.currentGoal.is_done=t.isDone},updateCurrentGoal:function(A,e){var t=e.payload;A.currentGoal=t.currentGoal},changeImageUrl:function(A,e){var t=e.payload;A.goalList.data=A.goalList.data.map((function(A){return A.id===t.id&&(A.image_url=t.goalImage),A}))},resetCurrentGoal:function(A,e){e.payload;A.currentGoal={}},resetCurrentGoalStatus:function(A,e){e.payload;A.currentGoalStatus="pending"},updateError:function(A,e){var t=e.payload;A.error=t}},extraReducers:(n={},Object(G.a)(n,F.fulfilled,(function(A,e){var t=e.payload;A.goalList.data=t.goalList,A.goalList.status="fulfilled"})),Object(G.a)(n,F.pending,(function(A,e){e.payload;A.goalList.status="pending",A.fetchStatus="pending"})),Object(G.a)(n,F.rejected,(function(A,e){e.payload;A.error="Invalid token"})),Object(G.a)(n,Q.fulfilled,(function(A,e){var t=e.payload;A.goalList.data.unshift(t.goal),A.addStatus="fulfilled"})),Object(G.a)(n,Q.pending,(function(A,e){e.payload;A.addStatus="pending"})),Object(G.a)(n,Q.rejected,(function(A,e){e.payload;A.error="Invalid token"})),Object(G.a)(n,L.fulfilled,(function(A,e){var t=e.payload;A.goalList.data=A.goalList.data.filter((function(A){return A.id!==t.goalToDelete.id}))})),Object(G.a)(n,L.pending,(function(A,e){e.payload;console.log("deleting...")})),Object(G.a)(n,L.rejected,(function(A,e){e.payload;A.error="Invalid token"})),Object(G.a)(n,W.fulfilled,(function(A,e){var t=e.payload,n=A.goalList.data.findIndex((function(A){return A.id===t.goalToUpdate.id}));A.goalList.data[n]=t.goalToUpdate})),Object(G.a)(n,W.pending,(function(A,e){e.payload;console.log("saving...")})),Object(G.a)(n,W.rejected,(function(A,e){e.payload;A.error="Invalid token"})),Object(G.a)(n,q.pending,(function(A,e){e.payload;A.currentGoalStatus="pending",console.log("getting current goal...")})),Object(G.a)(n,q.fulfilled,(function(A,e){var t=e.payload;Object.keys(t.currentGoal).length?(A.currentGoal=t.currentGoal,A.currentGoalStatus="fulfilled"):A.currentGoalStatus="not found"})),Object(G.a)(n,q.rejected,(function(A,e){e.payload;A.currentGoalStatus="rejected",A.error="Invalid token"})),n)}),V=H.actions,K=(V.addGoal,V.updateBlockers),Z=V.toggleIsRandom,_=V.updateIsDone,X=V.updatePresetMin,$=(V.deleteGoal,V.updateCurrentGoal,V.changeImageUrl,V.resetCurrentGoal),AA=V.resetCurrentGoalStatus,eA=V.updateError,tA=H.reducer,nA=function(A){var e=A.isActive,t=A.isSessionDone,n=A.setIsSessionDone,r=A.isDone,a=A.setMinutes,o=A.setSeconds,c=A.setIsActive,i=A.presetMin;return e?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m.a,{onClick:function(){a(i),o(0),c(!1)},variant:"contained",color:"error",size:"small",children:"Discard session"})}):t&&!r?Object(u.jsx)(m.a,{disabled:!!r,style:{display:"block",margin:"0 auto"},onClick:function(){a(i),o(0),n(!1)},variant:"contained",color:"success",size:"small",children:"New Session"}):r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{style:{color:"green"},children:"All Done. Congratulations!"}),Object(u.jsx)("p",{style:{fontSize:"0.8rem"},children:"(You can always add more sessions to this goal.)"})]}):r||t?void 0:Object(u.jsx)(m.a,{style:{display:r||t?"none":"inline-block"},onClick:function(){return c(!0)},variant:"contained",color:"primary",size:"small",children:"Start timer"})},rA=function(A){var e=A.currentGoal,t=A.goalIdParam;console.log("DisplayTimer.js");var n=e.blockers,a=e.is_random,o=e.preset_min,i=Object(c.c)((function(A){return A.timerState})),s=i.minutes,d=i.seconds,b=i.isActive,j=i.isSessionDone,p=Object(c.c)((function(A){return A.displayGridState})).isDone,f=Object(c.b)(),h=function(A){return f(k(A))},x=function(A){return f(K(A))},m=function(){var A=n.map((function(A){return A.reveal}));if(a){var e=A.reduce((function(A,e,t){return!1===e&&A.push(t),A}),[]),r=Math.floor(Math.random()*e.length);x({id:t,blockers:n.map((function(A,t){return t===e[r]?Object(g.a)(Object(g.a)({},A),{},{reveal:!0}):A}))})}else x({id:t,blockers:n.map((function(e,t){return t===A.indexOf(!1)?Object(g.a)(Object(g.a)({},e),{},{reveal:!0}):e}))})},O=s<10?"0".concat(s):s,S=d<10?"0".concat(d):d;return Object(r.useEffect)((function(){document.title=j||!b?"Picmodoro":"Picmodoro (".concat(O,":").concat(S,")")}),[O,S,j,b]),Object(r.useEffect)((function(){var A=null,e=new Date;return e.setSeconds(e.getSeconds()+60*o+1),b?A=setInterval((function(){var A=(new Date).getTime(),t=e-A,n=Math.floor(t%6e4/1e3),r=Math.floor(t%36e5/6e4);f(k(r)),f(I(n)),t<0&&(f(T(!1)),m(),f(C(!0)))}),100):clearInterval(A),function(){clearInterval(A)}}),[b,o,f]),Object(r.useEffect)((function(){f(W({currentGoal:e,id:e.id}))}),[j,p]),Object(r.useEffect)((function(){f(f(_({id:t,isDone:p})))}),[p]),Object(r.useEffect)((function(){f(D()),h(o)}),[f]),Object(u.jsxs)(l.a,{children:[Object(u.jsx)("button",{style:{position:"absolute",top:"50px",left:"50%",transform:"translateX(-50%)"},onClick:function(){m(),f(C(!0))},children:"Reveal"}),Object(u.jsx)(l.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(0,0,0,0.87)","@media (min-width:580px)":{"& > h1":{fontSize:"3rem"}}},children:j?Object(u.jsxs)(l.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bolder"},children:["Session finished"," ",Object(u.jsx)(v.a,{sx:{marginLeft:"5px"},color:"success",fontSize:"small"})]}):Object(u.jsxs)("h1",{children:[O,":",S]})}),Object(u.jsx)(nA,{isActive:b,isSessionDone:j,setIsSessionDone:function(A){return f(C(A))},isDone:p,setMinutes:h,setSeconds:function(A){return f(I(A))},setIsActive:function(A){return f(T(A))},presetMin:o})]})},aA=t(28),oA=t(376),cA=Object(oA.a)("div")(Y||(Y=Object(aA.a)(["\n  @keyframes uparrow {\n    0% {\n      -webkit-transform: translateY(0);\n      opacity: 0.4;\n    }\n    100% {\n      -webkit-transform: translateY(-0.4em);\n      opacity: 0.9;\n    }\n  }\n  position: absolute;\n  top: -105px;\n  right: 27px;\n  border-color: transparent;\n  border-style: solid;\n  border-width: 0 0.5rem;\n  display: ",";\n  height: 0;\n  margin: 10em auto;\n  opacity: 0.4;\n  transform-origin: 50% 50%;\n  width: 0;\n\n  animation: uparrow 0.6s infinite alternate ease-in-out;\n  border-bottom: 0.8rem solid #4dc126;\n"])),(function(A){return A.guide?"block":"none"})),iA=Object(S.c)({name:"displayGrid",initialState:{isDone:!1},reducers:{toggleIsDone:function(A,e){var t=e.payload;A.isDone=t}}}),sA=iA.actions.toggleIsDone,lA=iA.reducer,uA=t(15),dA=t(382),bA=t(383),jA=t(386),pA=t(399),fA=t(400),hA=t(402),xA=t(381),gA=t(404),mA=t(394),OA=t(159),vA=t.n(OA),SA=t(160),yA=t.n(SA),wA=function(A){var e=A.setGuide,t=A.goalIdParam,n=A.currentGoal,a=n.is_random,o=n.blockers,s=n.preset_min,d=n.is_done,b=Object(r.useState)(!1),j=Object(i.a)(b,2),p=j[0],f=j[1],h=Object(c.c)((function(A){return A.timerState})).isActive,x=Object(c.b)(),g=function(A){return x(K(A))},m=function(A){return x(X(A))},O=function(){x(W({currentGoal:n,id:n.id})).catch((function(){return console.log("There was a problem connecting to the server.")})),f(!1)};return Object(r.useEffect)((function(){x(k(s))}),[s,x]),Object(u.jsxs)("div",{children:[Object(u.jsx)(l.a,{sx:{justifySelf:"flex-end"},children:Object(u.jsx)(jA.a,{title:"Settings",children:Object(u.jsx)(pA.a,{sx:{color:"rgba(0,0,0,0.87)"},disabled:!!h,onClick:function(){f(!0),e(!1)},color:"primary","aria-label":"settings picture",component:"span",children:Object(u.jsx)(vA.a,{})})})}),Object(u.jsx)(fA.a,{open:p,onClose:O,children:Object(u.jsxs)(l.a,{sx:{width:"80vw",maxWidth:"350px"},children:[Object(u.jsxs)(l.a,{sx:{display:"flex",bgcolor:"#1976D2"},children:[Object(u.jsx)(hA.a,{sx:{color:"white"},children:"Goal Settings"}),Object(u.jsx)(pA.a,{sx:{marginLeft:"auto",color:"white"},onClick:O,"aria-label":"close button",component:"span",children:Object(u.jsx)(yA.a,{})})]}),Object(u.jsx)(xA.a,{}),Object(u.jsxs)(gA.a,{sx:{textAlign:"center",padding:"1rem"},children:[Object(u.jsx)("h5",{children:"Random Reveal"}),Object(u.jsx)(mA.a,{checked:a,onChange:function(A){var e;e={id:t,isRandom:A.target.checked},x(Z(e))},color:"primary"}),Object(u.jsx)("h5",{children:"Sessions"}),Object(u.jsxs)(l.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(u.jsx)(pA.a,{color:"primary",disabled:!(!d&&1!==o.length&&!h),onClick:function(){var A=o.map((function(A){return A.reveal})).lastIndexOf(!1);g({id:t,blockers:o.filter((function(e,t){return t!==A}))})},children:Object(u.jsx)(dA.a,{})}),Object(u.jsx)("p",{style:{margin:"0 5px"},children:o.length}),Object(u.jsx)(pA.a,{color:"primary",disabled:!!h,onClick:function(){g({id:t,blockers:[].concat(Object(uA.a)(o),[{clickable:!1,reveal:!1}])})},children:Object(u.jsx)(bA.a,{})})]}),Object(u.jsx)("h5",{children:"Duration"}),Object(u.jsxs)(l.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(u.jsx)(pA.a,{color:"primary",onClick:function(){m({id:t,presetMin:s-5})},disabled:25===s,children:Object(u.jsx)(dA.a,{})}),Object(u.jsxs)(l.a,{children:[s,":00"]}),Object(u.jsx)(pA.a,{color:"primary",onClick:function(){m({id:t,presetMin:s+5})},children:Object(u.jsx)(bA.a,{})})]})]}),Object(u.jsx)(xA.a,{})]})})]})},kA=t(162),IA=t.n(kA),TA=function(){var A=Object(s.h)(),e=Object(c.c)((function(A){return A.timerState})).isActive;return Object(u.jsx)(l.a,{sx:{justifySelf:"flex-start",borderRadius:"100%"},children:Object(u.jsx)(jA.a,{title:"Back to dashboard",children:Object(u.jsx)(pA.a,{sx:{color:"rgba(0,0,0,0.87)"},disabled:!!e,onClick:function(){A("/dashboard")},color:"primary","aria-label":"back picture",component:"span",children:Object(u.jsx)(IA.a,{})})})})},CA=function(){console.log("Goal parent component");var A=Object(s.i)().goalid,e=Object(r.useState)(!0),t=Object(i.a)(e,2),n=t[0],a=t[1],o=Object(c.b)();Object(r.useEffect)((function(){o(q({id:A})).catch((function(){return console.log("There was a problem connecting to the server")}))}),[o,A]);var l=Object(c.c)((function(A){return A.goalState})),f=l.currentGoal,h=l.currentGoalStatus,g=f.blockers;return Object(r.useEffect)((function(){Object.keys(f).length&&(g.length&&(g.map((function(A){return A.reveal})).filter((function(A){return!0===A})).length===g.length?(o(sA(!0)),console.log("toggle done true")):o(sA(!1)),g.length>1&&a(!1)))}),[g,o,f]),"pending"===h?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(b.a,{sx:{color:"rgba(0,0,0,0.87)",zIndex:"1250",display:"flex",flexDirection:"column"},open:!0,children:[Object(u.jsx)("h2",{children:"Loading goal..."}),Object(u.jsx)("br",{}),Object(u.jsx)(j.a,{color:"inherit"})]})}):"not found"===h?Object(u.jsx)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",color:"#fff",height:"100%"},children:Object(u.jsx)("h3",{children:"Goal not found"})}):"fulfilled"===h?Object(u.jsxs)(p.a,{children:[Object(u.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",textAlign:"center",width:"100%",position:"relative",height:"75px",color:"#1e3c72",padding:"15px",borderBottom:"1px solid rgba(0,0,0,0.87)"},children:[Object(u.jsx)(TA,{}),Object(u.jsx)(d,{currentGoal:f}),Object(u.jsx)(wA,{setGuide:a,currentGoal:f,goalIdParam:A}),Object(u.jsx)(cA,{guide:n?1:0})]}),Object(u.jsx)(p.a,{sx:{height:"calc(100vh - 147px)",overflow:"auto"},children:Object(u.jsxs)(p.a,{sx:{height:"100%",minHeight:"300px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly","@media (min-width:580px)":{minHeight:"450px"}},children:[Object(u.jsx)(p.a,{children:Object(u.jsx)(x,{currentGoal:f})}),Object(u.jsx)(p.a,{children:Object(u.jsx)(rA,{currentGoal:f,goalIdParam:A})})]})})]}):Object(u.jsx)("h1",{children:"Loading"})},DA=t(25),EA=t(403),GA=t(387),zA=t(392),NA=t(390),UA="data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB//2Q==",RA=(JSON.parse(localStorage.getItem("imgFile")),JSON.parse(localStorage.getItem("screenState"))||0),BA=(JSON.parse(localStorage.getItem("goalName")),JSON.parse(localStorage.getItem("goalList")),JSON.parse(localStorage.getItem("auth"))||{}),PA={id:BA.id,name:BA.name,email:BA.email,isUserAuthenticated:BA.isUserAuthenticated},MA=Object(S.c)({name:"auth",initialState:PA,reducers:{updateUser:function(A,e){var t=e.payload;A.id=t.id,A.name=t.name,A.email=t.email,A.isUserAuthenticated=t.isUserAuthenticated},updateIsUserAuthenticated:function(A,e){var t=e.payload;A.isUserAuthenticated=t}}}),JA=MA.actions,YA=JA.updateUser,FA=(JA.updateIsUserAuthenticated,MA.reducer),QA=t.p+"static/media/pomodoro.e1763d73.png",LA=function(){return Object(u.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",textShadow:"2px 2px #000",fontSize:"2rem",fontWeight:"bolder",fontFamily:"'Righteous', cursive",color:"#fff"},children:["PICMODOR",Object(u.jsx)(p.a,{sx:{width:"40px"},component:"img",src:QA,alt:""})]})},WA=function(){var A=Object(r.useState)(""),e=Object(i.a)(A,2),t=e[0],n=e[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),d=o[0],b=o[1],j=Object(r.useState)(!1),p=Object(i.a)(j,2),f=p[0],h=p[1],x=Object(r.useState)(!1),g=Object(i.a)(x,2),O=g[0],v=g[1],S=Object(s.h)(),y=Object(c.b)(),w=function(A,e){A.preventDefault();var r,a,o=function(){var A=Object(U.a)(N.a.mark((function A(){var e,t,n,o,c;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://desolate-lake-70726.herokuapp.com/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:a})});case 3:if(!(e=A.sent).ok){A.next=18;break}return A.next=7,e.json();case 7:t=A.sent,n=t.user,o=t.accessToken,c=t.refreshToken,h(!1),y(YA({id:n.id,name:n.name,email:n.email,isUserAuthenticated:!0})),localStorage.accessToken=JSON.stringify(o),localStorage.refreshToken=JSON.stringify(c),S("/dashboard"),A.next=19;break;case 18:h(!0);case 19:A.next=25;break;case 21:return A.prev=21,A.t0=A.catch(0),alert("There was a problem connecting to the server."),A.abrupt("return");case 25:case"end":return A.stop()}}),A,null,[[0,21]])})));return function(){return A.apply(this,arguments)}}();"user"===e?(r=t,a=d,o()):(h(!1),a="tester",n(r="awesometester@test.com"),b(a),v(!0),setTimeout((function(){o()}),2e3))};return Object(u.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column",gap:"2rem",alignItems:"center",justifyContent:"center",width:"100%",height:"100vh",minHeight:"520px",backgroundImage:"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)","@media (min-width:950px)":{flexDirection:"row",minHeight:"400px"}},children:[Object(u.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column",width:"320px",gap:"20px",alignItems:"center","& h6":{textAlign:"center"},"@media (min-width: 950px)":{width:"30rem",alignItems:"flex-start","& h6":{textAlign:"left"}}},children:[Object(u.jsx)(LA,{}),Object(u.jsx)(EA.a,{variant:"h6",sx:{color:"#e5e5e5"},children:"Be inspired with your goals and be productive with Picmodoro."})]}),Object(u.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column",width:"90%",maxWidth:"400px",backgroundColor:"#fff",boxShadow:"0 10px 15px rgba(0,0,0,0.5)",padding:"2rem",borderRadius:"10px","@media (min-width:950px)":{}},children:[Object(u.jsx)("h2",{style:{textAlign:"center",color:"#1976D2"},children:"Sign In"}),f&&Object(u.jsx)(l.a,{style:{color:"black",textAlign:"center",padding:"0.5rem",marginTop:"1rem",border:"solid 1px red",backgroundColor:"seashell",fontSize:"0.8rem"},children:"Email and password combination is incorrect. Please try again."}),Object(u.jsx)(GA.a,{sx:{marginTop:"10px"},fullWidth:!0,label:"Email address",value:t,onChange:function(A){return n(A.target.value)}}),Object(u.jsx)(GA.a,{sx:{marginTop:"10px"},type:"password",fullWidth:!0,label:"Password",value:d,onChange:function(A){return b(A.target.value)},children:"Password"}),Object(u.jsx)(m.a,{sx:{marginTop:"1rem"},to:"/dashboard",variant:"contained",component:DA.b,onClick:function(A){return w(A,"user")},children:"Sign In"}),Object(u.jsx)(m.a,{sx:{marginTop:"5px"},to:"/dashboard",variant:"contained",color:"warning",component:DA.b,onClick:function(A){return w(A,"tester")},children:"Test"}),Object(u.jsxs)("p",{style:{fontSize:"0.8rem",marginTop:"10px"},children:["Don't have an account?"," ",Object(u.jsx)(l.a,{sx:{textDecoration:"none",color:"#1976D2",fontWeight:"bolder"},component:DA.b,to:"/register",children:"REGISTER"})]})]}),Object(u.jsx)(zA.a,{open:O,autoHideDuration:3e3,anchorOrigin:{horizontal:"center",vertical:"top"},onClose:function(){return v(!1)},children:Object(u.jsx)(NA.a,{variant:"filled",severity:"success",sx:{width:"100%"},children:"Welcome and happy testing!"})})]})},qA=function(){return Object(u.jsx)(WA,{})},HA=t(43),VA=t(175),KA=t(68),ZA=KA.a({name:KA.b().required("This field is required."),email:KA.b().email("Invalid email address.").required("This field is required.").test("Unique Email","Email already in use.",function(){var A=Object(U.a)(N.a.mark((function A(e){return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",new Promise(function(){var A=Object(U.a)(N.a.mark((function A(t,n){return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://desolate-lake-70726.herokuapp.com/check/".concat(e));case 3:A.sent.ok?t(!0):t(!1),A.next=11;break;case 7:return A.prev=7,A.t0=A.catch(0),alert("There was a problem connecting to the server."),A.abrupt("return");case 11:case"end":return A.stop()}}),A,null,[[0,7]])})));return function(e,t){return A.apply(this,arguments)}}()));case 1:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()),password:KA.b().required("This field is required."),passwordConfirmation:KA.b().test("passwords-match","Passwords must match.",(function(A){return this.parent.password===A})).required("This field is required.")}),_A=function(){var A=Object(HA.e)({mode:"onSubmit",resolver:Object(VA.a)(ZA)}),e=A.handleSubmit,t=A.control,n=A.formState.errors,r=Object(c.b)(),a=Object(s.h)(),o=function(){var A=Object(U.a)(N.a.mark((function A(e){var t,n,o,c,i,s,l,u;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(!e){A.next=23;break}return t=e.name,n=e.email,o=e.password,A.prev=2,A.next=5,fetch("https://desolate-lake-70726.herokuapp.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:o})});case 5:if(!(c=A.sent).ok){A.next=17;break}return A.next=9,c.json();case 9:i=A.sent,s=i.user,l=i.refreshToken,u=i.accessToken,r(YA({id:s.id,name:s.name,email:s.email,isUserAuthenticated:!0})),localStorage.accessToken=JSON.stringify(u),localStorage.refreshToken=JSON.stringify(l),a("/dashboard");case 17:A.next=23;break;case 19:return A.prev=19,A.t0=A.catch(2),alert("There was a problem connecting to the server."),A.abrupt("return");case 23:case"end":return A.stop()}}),A,null,[[2,19]])})));return function(e){return A.apply(this,arguments)}}();return Object(u.jsx)(l.a,{sx:{width:"100%",height:"100vh",minHeight:"520px",display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)"},children:Object(u.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column",width:"90%",maxWidth:"400px",backgroundColor:"#fff",boxShadow:"0 10px 15px rgba(0,0,0,0.5)",padding:"2rem",borderRadius:"10px"},children:[Object(u.jsx)("h2",{style:{textAlign:"center",color:"#1976D2"},children:"Register"}),Object(u.jsxs)("form",{onSubmit:e(o),children:[Object(u.jsx)(HA.a,{render:function(A){var e,t=A.field;return Object(u.jsx)(GA.a,Object(g.a)(Object(g.a)({},t),{},{sx:{marginTop:"5px"},fullWidth:!0,id:"outlined-error-helper-text",label:"Name *",error:!!n.name,helperText:(null===(e=n.name)||void 0===e?void 0:e.message)||" "}))},name:"name",control:t,defaultValue:"",className:"materialUIInput"}),Object(u.jsx)(HA.a,{render:function(A){var e,t=A.field;return Object(u.jsx)(GA.a,Object(g.a)(Object(g.a)({},t),{},{sx:{marginTop:"5px"},fullWidth:!0,id:"outlined-error-helper-text",label:"Email address *",error:!!n.email,helperText:(null===(e=n.email)||void 0===e?void 0:e.message)||" "}))},name:"email",control:t,defaultValue:"",className:"materialUIInput"}),Object(u.jsx)(HA.a,{render:function(A){var e,t=A.field;return Object(u.jsx)(GA.a,Object(g.a)(Object(g.a)({},t),{},{sx:{marginTop:"5px"},fullWidth:!0,type:"password",id:"outlined-error-helper-text",label:"Password *",error:!!n.password,helperText:(null===(e=n.password)||void 0===e?void 0:e.message)||" "}))},name:"password",control:t,defaultValue:"",className:"materialUIInput"}),Object(u.jsx)(HA.a,{render:function(A){var e,t=A.field;return Object(u.jsx)(GA.a,Object(g.a)(Object(g.a)({},t),{},{sx:{marginTop:"5px"},fullWidth:!0,type:"password",id:"outlined-error-helper-text",label:"Confirm password *",error:!!(null===n||void 0===n?void 0:n.passwordConfirmation),helperText:(null===(e=n.passwordConfirmation)||void 0===e?void 0:e.message)||" "}))},name:"passwordConfirmation",control:t,defaultValue:"",className:"materialUIInput"}),Object(u.jsx)(m.a,{type:"submit",sx:{marginTop:"0.2rem",width:"100%"},variant:"contained",children:"Register"})]}),Object(u.jsxs)("p",{style:{fontSize:"0.8rem",marginTop:"10px"},children:["Already have an account?"," ",Object(u.jsx)(l.a,{sx:{textDecoration:"none",color:"#1976D2",fontWeight:"bolder"},component:DA.b,to:"/signin",children:"SIGN IN"})]})]})})},XA=t(385),$A=Object(u.jsx)(XA.a,{styles:{"*, *::before, *::after":{margin:0,padding:0,boxSizing:"border-box"},body:{fontFamily:"'Montserrat', sans-serif",minHeight:"100vh",maxWidth:"100%",backgroundColor:"#e5e5e5"}}}),Ae=function(A){return Object(u.jsx)(l.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:A.children})},ee=$A,te=function(){return Object(u.jsx)(Ae,{children:Object(u.jsx)(_A,{})})},ne=t(166),re=t.n(ne),ae=t(393),oe=t(389),ce=function(){console.log("Form.js");var A=Object(r.useState)(""),e=Object(i.a)(A,2),t=e[0],n=e[1],a=Object(r.useState)(""),o=Object(i.a)(a,2),d=o[0],p=o[1],f=Object(r.useState)(!0),h=Object(i.a)(f,2),x=h[0],g=h[1],m=Object(r.useState)(!1),O=Object(i.a)(m,2),v=O[0],S=O[1],y=Object(r.useState)(!1),w=Object(i.a)(y,2),k=w[0],I=w[1],T=Object(r.useState)(!1),C=Object(i.a)(T,2),D=C[0],E=C[1],G=Object(r.useState)(!1),z=Object(i.a)(G,2),N=z[0],U=z[1],R=Object(r.useState)(!1),B=Object(i.a)(R,2),P=B[0],M=B[1],J=Object(c.b)(),Y=Object(r.useRef)(),F=Object(r.useRef)(),L=Object(s.h)();return Object(r.useEffect)((function(){E(!0);var A=new Image;A.src=t,A.onload=function(){this.width>0&&(E(!1),g(!0),S(!1))},A.onerror=function(A){console.log("error",A),E(!1),g(!1)},t.length&&S(!1)}),[t]),Object(r.useEffect)((function(){d.length&&I(!1)}),[d]),Object(u.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[Object(u.jsxs)(EA.a,{variant:"h6",children:[Object(u.jsxs)(l.a,{sx:{color:"#4EC127",fontWeight:"bolder"},component:"span",children:["Step 1:"," "]}),"What is your goal?"]}),Object(u.jsx)(l.a,{sx:{width:"100%",alignSelf:"center",marginTop:"5px"},children:Object(u.jsx)(GA.a,{error:!!k,className:"name-field",fullWidth:!0,inputRef:Y,id:"outlined-name",label:"Enter goal name",value:d,onChange:function(A){p(A.target.value)},helperText:k?"Please enter your goal name.":"Ex. Finish Atomic Habits book, Score A+ on Math"})}),Object(u.jsxs)(EA.a,{variant:"h6",children:[Object(u.jsxs)(l.a,{sx:{color:"#4EC127",fontWeight:"bolder"},component:"span",children:["Step 2:"," "]}),"What image will represent this goal?"]}),Object(u.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"5px"},children:[Object(u.jsx)(GA.a,{sx:{overflow:"auto"},error:!!v,className:"name-field",fullWidth:!0,id:"outlined-error-helper-text",label:"Enter image url",value:t,onChange:function(A){return n(A.target.value)},helperText:v?"Please enter a valid image url.":"Ex. https://source.unsplash.com/random/300x200",inputRef:F}),D?Object(u.jsx)(l.a,{sx:{border:"solid 1px rgba(0,0,0,0.23)",width:"100%",height:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(u.jsx)(j.a,{})}):Object(u.jsx)(l.a,{sx:{border:"solid 1px rgba(0,0,0,0.23)",width:"100%"},component:"img",src:x?t:UA,alt:""})]}),Object(u.jsxs)(EA.a,{variant:"h6",children:[Object(u.jsxs)(l.a,{sx:{color:"#4EC127",fontWeight:"bolder"},component:"span",children:["Step 3:"," "]}),"Submit and start!"]}),Object(u.jsx)(oe.a,{loading:!(!D&&!N),sx:{alignSelf:"center",width:"40%"},onClick:function(A){if(A.preventDefault(),x||(S(!0),F.current.focus()),d.length||(I(!0),Y.current.focus()),d.length&&x){U(!0),M(!0);var e=Object(ae.a)();J(Q({id:e,goalName:d,goalImage:t})).then((function(){setTimeout((function(){M(!1),L("/".concat(e))}),1e3)})).catch((function(){return console.log("There was a problem connecting to the server")}))}},variant:"contained",component:DA.b,to:"/dashboard",children:"Submit"}),Object(u.jsx)(b.a,{sx:{color:"#fff",zIndex:"1250",display:"flex",flexDirection:"column"},open:P,children:Object(u.jsx)(j.a,{color:"inherit"})})]})},ie=function(){var A=Object(r.useState)(!1),e=Object(i.a)(A,2),t=e[0],n=e[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(l.a,{sx:{width:"200px",height:"220px",display:"flex",flexDirection:"column",border:"solid 1px rgba(0,0,0,0.87)",borderRadius:"10px",justifyContent:"center",alignItems:"center",gap:"10px",fontWeight:"bolder",fontSize:"2rem",cursor:"pointer",transition:"all ease-in 200ms",backgroundColor:"#e5e5e5",color:"rgba(0,0,0,0.87)","&:hover":{boxShadow:"0 5px 10px rgba(0,0,0,0.5)"}},component:"button",onClick:function(){n(!0)},children:[Object(u.jsx)(re.a,{fontSize:"1rem"}),Object(u.jsx)(EA.a,{variant:"body1",children:"Add New Goal"})]}),Object(u.jsxs)(fA.a,{fullWidth:!0,open:t,onClose:function(){n(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(u.jsx)(hA.a,{sx:{bgcolor:"#1976D2",color:"#fff"},id:"alert-dialog-title",children:"Add New Goal"}),Object(u.jsx)(xA.a,{}),Object(u.jsx)(gA.a,{children:Object(u.jsx)(ce,{})})]})]})},se=t(167),le=t.n(se),ue=t(174),de=t(395),be=t(406),je=t(168),pe=t.n(je),fe=t(170),he=t.n(fe),xe=t(169),ge=t.n(xe),me=function(A){var e=A.id,t=A.goalName,n=A.goalImage,a=A.blockers,o=A.goal,s=a.map((function(A){return A.reveal})).filter((function(A){return!0===A})).length,d=Object(c.b)(),p=Object(r.useState)(!1),f=Object(i.a)(p,2),x=f[0],O=f[1];Object(r.useEffect)((function(){var A=new Image;A.onload=function(){O(!0)},A.src=o.image_url}),[o]);var v=Object(r.useState)(null),S=Object(i.a)(v,2),y=S[0],w=S[1],k=Object(r.useState)(!1),I=Object(i.a)(k,2),T=I[0],C=I[1],D=Object(r.useState)(!1),E=Object(i.a)(D,2),G=E[0],z=E[1],N=Object(r.useState)(null),U=Object(i.a)(N,2),R=U[0],B=U[1],P=Object(r.useState)(t),M=Object(i.a)(P,2),J=M[0],Y=M[1],F=Object(r.useState)(n),Q=Object(i.a)(F,2),q=Q[0],H=Q[1],V=Object(r.useState)(n),K=Object(i.a)(V,2),Z=K[0],_=K[1],X=Object(r.useState)(!1),$=Object(i.a)(X,2),AA=$[0],eA=$[1],tA=Object(r.useRef)();Object(r.useEffect)((function(){G&&tA.current.focus()}),[G]);var nA=Object(r.useState)(!1),rA=Object(i.a)(nA,2),aA=rA[0],oA=rA[1],cA=Object(r.useState)(!1),iA=Object(i.a)(cA,2),sA=iA[0],lA=iA[1],uA=Object(r.useRef)(!1);Object(r.useEffect)((function(){!1===uA.current?uA.current=!0:(lA(!0),function(A){var e=new Image;e.onload=function(){oA(!1),lA(!1)},e.onerror=function(){oA(!0)},e.src=A}(q))}),[q]);Object(r.useEffect)((function(){R&&(R.image_url===n&&R.goal_name===t||(console.log("to save",R),d(W({currentGoal:R,id:R.id}))))}),[d,R,n,t]);var dA=Boolean(y),bA=dA?"simple-popover":void 0;return Object(u.jsxs)(l.a,{sx:{width:"200px",height:"220px",display:"flex",flexDirection:"column",border:"solid 1px rgba(0,0,0,0.87)",borderRadius:"10px",overflow:"hidden",textDecoration:"none",transition:"all ease-in 200ms","&:hover":{boxShadow:"0 3px 10px rgba(0,0,0,0.5)"}},component:DA.b,to:"/".concat(e),children:[Object(u.jsxs)(u.Fragment,{children:[x?Object(u.jsx)(l.a,{sx:{width:"100%",height:"100%",background:"url(".concat(Z,")"),backgroundPosition:"center",backgroundSize:"cover"}}):Object(u.jsx)(h.a,{variant:"rectangular",width:"100%",height:"100%",animation:"wave"}),Object(u.jsxs)(l.a,{sx:{color:"rgba(0,0,0,0.87)",backgroundColor:"#e5e5e5",width:"100%",borderTop:"1px solid rgba(0,0,0,0.87)",padding:"0.7rem 1rem",minHeight:"70px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"flex-start",position:"relative"},children:[G?Object(u.jsx)("input",{style:{width:"150px",outline:"none",fontWeight:"bolder"},type:"text",ref:tA,defaultValue:J,onClick:function(A){return A.preventDefault()},onBlur:function(A){var e=A.target.value;z(!1),Y(e),B((function(A){return Object(g.a)(Object(g.a)({},A),{},{goal_name:e})}))},onKeyDown:function(A){var e=A.target.value;13===A.keyCode&&(z(!1),Y(e),B((function(A){return Object(g.a)(Object(g.a)({},A),{},{goal_name:e})}))),27===A.keyCode&&z(!1)}}):Object(u.jsx)("h5",{style:{maxWidth:"150px"},children:J}),Object(u.jsxs)("p",{style:{fontSize:"0.7rem"},children:["Progress: ",s,"/",a.length]}),Object(u.jsx)(pA.a,{sx:{color:"rgba(0,0,0,0.87)",position:"absolute",top:"50%",transform:"translateY(-50%)",right:0,"&:hover":{backgroundColor:"rgba(0,0,0,0.2)"}},onClick:function(A){A.preventDefault(),w(A.currentTarget),B(o)},"aria-label":"more options",component:"span",children:Object(u.jsx)(le.a,{})}),Object(u.jsx)(ue.a,{id:bA,open:dA,anchorEl:y,onClose:function(A){A.preventDefault(),w(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(u.jsxs)(l.a,{sx:{backgroundColor:"#fff",fontSize:"0.9rem",cursor:"pointer","& li":{display:"flex",gap:"10px",padding:"1rem"}},children:[Object(u.jsxs)(de.a,{onClick:function(A){A.preventDefault(),z(!0),w(null)},children:[Object(u.jsx)(pe.a,{}),"Edit goal name"]}),Object(u.jsxs)(de.a,{onClick:function(A){A.preventDefault(),H(n),oA(!1),eA(!0),w(null)},children:[Object(u.jsx)(ge.a,{}),"Change image URL"]}),Object(u.jsxs)(de.a,{onClick:function(A){A.preventDefault(),C(!0),d(L({id:e})).catch((function(){return console.log("There was a problem connecting to the server.")}))},children:[Object(u.jsx)(he.a,{}),"Delete"]})]})})]})]}),Object(u.jsx)(fA.a,{open:AA,onClose:function(A){A.preventDefault(),eA(!1)},fullWidth:!0,children:Object(u.jsxs)(l.a,{onClick:function(A){return A.preventDefault()},children:[Object(u.jsx)(hA.a,{sx:{bgcolor:"#1976D2",color:"white"},children:"Change image URL"}),Object(u.jsx)(gA.a,{children:Object(u.jsx)(l.a,{sx:{marginTop:"1.5rem"},children:Object(u.jsx)(GA.a,{label:"Goal Image URL",value:q,onChange:function(A){return H(A.target.value)},fullWidth:!0,error:aA,helperText:aA?"Please enter a valid image url.":"Ex. https://source.unsplash.com/random/300x200"})})}),Object(u.jsxs)(be.a,{children:[Object(u.jsx)(m.a,{onClick:function(){return eA(!1)},children:"Cancel"}),Object(u.jsx)(m.a,{onClick:function(){aA||(_(q),B((function(A){return Object(g.a)(Object(g.a)({},A),{},{image_url:q})})),eA(!1))},variant:"contained",color:"primary",disabled:!!sA,children:"Save"})]})]})}),Object(u.jsx)(b.a,{sx:{color:"#fff",zIndex:"1250",display:"flex",flexDirection:"column"},open:T,children:Object(u.jsx)(j.a,{color:"inherit"})})]})},Oe=function(){var A=Object(c.c)((function(A){return A.authState})).id,e=Object(c.b)();Object(r.useEffect)((function(){console.log("dashboard useeffect"),e(F({id:A})).catch((function(A){console.log("There was an error")})),e($()),e(AA())}),[e,A]);var t=Object(c.c)((function(A){return A.goalState})).goalList;return Object(u.jsxs)(l.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%"},children:[Object(u.jsx)(EA.a,{variant:"h6",fontWeight:"800",sx:{color:"rgba(0,0,0,0.87)",width:"100%",padding:"0.5rem",borderBottom:"1px solid rgba(0,0,0,0.87)",height:"75px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Dashboard"}),Object(u.jsx)(l.a,{sx:{padding:"1rem 1.5rem",height:"calc(100vh - 147px)",width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",justifyItems:"center",gridGap:"25px",overflowY:"auto",position:"relative"},children:"fulfilled"===t.status?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ie,{}),t.data.map((function(A){return Object(u.jsx)(me,{id:A.id,goalName:A.goal_name,goalImage:A.image_url,blockers:A.blockers,goal:A},A.id)}))]}):Object(u.jsx)(j.a,{sx:{position:"absolute",top:"calc((100% / 2) - 1rem)"}})})]})},ve=function(){return Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"#fff"},children:[Object(u.jsx)("h1",{children:"404"}),Object(u.jsx)("h3",{children:"Not Found"})]})},Se=t(171),ye=t.n(Se),we=t(173),ke=t.n(we),Ie=t(172),Te=t.n(Ie),Ce=function(){var A=Object(c.c)((function(A){return A.authState})).name,e=Object(c.b)(),t=function(){var A=Object(U.a)(N.a.mark((function A(t){var n;return N.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return n=JSON.parse(localStorage.getItem("refreshToken")),A.next=3,fetch("https://desolate-lake-70726.herokuapp.com/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});case 3:A.sent.ok&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),setTimeout((function(){e(YA({isUserAuthenticated:!1})),s(null)}),500));case 5:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),n=Object(r.useState)(null),a=Object(i.a)(n,2),o=a[0],s=a[1],l=Boolean(o),d=l?"simple-popover":void 0,b=Object(f.a)("(min-width:580px");return Object(u.jsxs)(p.a,{sx:{display:"flex",padding:"1rem",width:"100%",height:"72px",color:"#fff",boxShadow:"0 2px 5px rgba(0,0,0,0.23)",backgroundImage:"linear-gradient(to top, #1e3c72 0%, #1e3c72 1%, #2a5298 100%)"},children:[Object(u.jsx)(p.a,{sx:{textDecoration:"none"},component:DA.b,to:"/dashboard",children:b?Object(u.jsx)(LA,{}):Object(u.jsx)(p.a,{sx:{width:"40px"},component:"img",src:QA,alt:""})}),Object(u.jsxs)(p.a,{sx:{marginLeft:"auto",display:"flex",alignItems:"center",cursor:"pointer"},onClick:function(A){s(A.currentTarget)},children:[Object(u.jsx)(EA.a,{children:A}),Object(u.jsx)(pA.a,{sx:{color:"#fff"},children:Object(u.jsx)(ye.a,{})})]}),Object(u.jsx)(ue.a,{id:d,open:l,anchorEl:o,onClose:function(A){s(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:Object(u.jsxs)(p.a,{sx:{backgroundColor:"#fff",fontSize:"0.9rem",cursor:"pointer","& li":{display:"flex",alignItems:"center",gap:"10px",padding:"1rem"}},children:[Object(u.jsxs)(de.a,{children:[Object(u.jsx)(Te.a,{}),"Help"]}),Object(u.jsxs)(de.a,{onClick:t,children:[Object(u.jsx)(ke.a,{}),"Logout"]})]})})]})},De=function(){var A=Object(s.g)();return Object(c.c)((function(A){return A.authState})).isUserAuthenticated?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ce,{}),Object(u.jsx)(s.b,{})]}):Object(u.jsx)(s.a,{to:"/signin",replace:!0,state:{from:A}})},Ee=function(){var A=Object(s.g)();return Object(c.c)((function(A){return A.authState})).isUserAuthenticated?Object(u.jsx)(s.a,{to:"/dashboard",replace:!0,state:{from:A}}):Object(u.jsx)(s.b,{})};var Ge=function(){var A=Object(c.c)((function(A){return A.goalState})),e=A.goalList,t=A.error,n=Object(c.c)((function(A){return A.authState})),a=n.id,o=n.name,i=n.email,l=n.isUserAuthenticated,d=Object(c.b)();return Object(r.useEffect)((function(){localStorage.goalList=JSON.stringify(e.data)}),[e.data]),Object(r.useEffect)((function(){localStorage.auth=JSON.stringify({id:a,name:o,email:i,isUserAuthenticated:l})}),[a,o,i,l]),Object(r.useEffect)((function(){"Invalid token"===t&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),d(eA("")),setTimeout((function(){d(YA({isUserAuthenticated:!1}))}),500),alert("Please relogin."))}),[d,t]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(DA.a,{basename:"/picmodoro",children:Object(u.jsxs)(s.e,{children:[Object(u.jsx)(s.c,{path:"/",exact:!0,element:l?Object(u.jsx)(s.a,{to:"/dashboard"}):Object(u.jsx)(qA,{})}),Object(u.jsxs)(s.c,{element:Object(u.jsx)(De,{}),children:[Object(u.jsx)(s.c,{path:"/dashboard",element:Object(u.jsx)(Oe,{})}),Object(u.jsx)(s.c,{path:"/:goalid",element:Object(u.jsx)(CA,{})})]}),Object(u.jsxs)(s.c,{element:Object(u.jsx)(Ee,{}),children:[Object(u.jsx)(s.c,{path:"/signin",element:Object(u.jsx)(qA,{})}),Object(u.jsx)(s.c,{path:"/register",element:Object(u.jsx)(te,{})})]}),Object(u.jsx)(s.c,{path:"*",element:Object(u.jsx)(ve,{})})]})})})},ze=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,407)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;t(A),n(A),r(A),a(A),o(A)}))},Ne=t(42),Ue={value:RA||0},Re=Object(S.c)({name:"screen",initialState:Ue,reducers:{updateScreen:function(A,e){var t=e.payload;A.value=t}}}),Be=(Re.actions.updateScreen,Re.reducer),Pe=Object(Ne.b)({goalState:tA,authState:FA,screenState:Be,timerState:E,displayGridState:lA}),Me=Object(S.a)({reducer:Pe});o.a.render(Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(c.a,{store:Me,children:[ee,Object(u.jsx)(Ge,{})]})}),document.getElementById("root")),ze()}},[[324,1,2]]]);
//# sourceMappingURL=main.c81777d3.chunk.js.map